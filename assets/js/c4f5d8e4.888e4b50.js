(self.webpackChunk=self.webpackChunk||[]).push([[64195],{69762:(e,t,n)=>{"use strict";const o=(0,n(67294).createContext)({selectedValue:"",setSelectedValue:e=>{throw new Error("No Tab provider")},values:[]});t.Z=o},90008:(e,t,n)=>{"use strict";n.d(t,{Z:()=>U});var o=n(67294),r=n(87462),l=n(49544),a=n(86010),s=n(11614),i=n(6832),d=n(99401),c=n(69762),u=n(45440),p=n(13743);function m(e){let{fixtures:t}=e;return o.createElement("div",{className:u.Z.fixtureBlock},t.map((e=>o.createElement("div",{key:e.endpoint.key(...e.args),className:u.Z.fixtureItem},o.createElement("div",{className:u.Z.fixtureHeader},e.endpoint.key(...e.args)),o.createElement(f,{fixture:e})))))}var g=(0,o.memo)(m);function f(e){let{fixture:t}=e;return"function"==typeof t.response?"function":o.createElement(p.Z,{language:"json",className:u.Z.fixtureJson},JSON.stringify(t.response))}var h=n(62974),v=n(80086),y=n(45045),b=n(76226),E=n(30573);let x;if("undefined"!=typeof window&&!/bot|googlebot|crawler|spider|robot|crawling/i.test(navigator.userAgent)){const e=["rest","core","endpoint","normalizr","graphql","hooks"],t=["react","rest-hooks","@rest-hooks/rest","@rest-hooks/graphql","@rest-hooks/hooks","bignumber.js"];if(!x){const o=E.Z.init();o.then((e=>{e&&(x=e,e.languages.typescript.typescriptDefaults.setCompilerOptions({allowNonTsExtensions:!0,target:e.languages.typescript.ScriptTarget.ES2017,jsx:e.languages.typescript.JsxEmit.React,strict:!0,strictNullChecks:!0,lib:["dom","esnext"],module:e.languages.typescript.ModuleKind.ESNext,moduleResolution:e.languages.typescript.ModuleResolutionKind.NodeJs,typeRoots:["node_modules/@types"],allowSyntheticDefaultImports:!0,skipLibCheck:!0,noImplicitAny:!1}),e.editor.defineTheme("prism",{base:"vs-dark",inherit:!0,rules:[{token:"number",foreground:"f78c6c"},{token:"string",foreground:"b6d986"},{token:"keyword",fontStyle:"italic",foreground:"7da4f6"},{token:"type",foreground:"ffcb6b"},{token:"delimiter",foreground:"C792EA"},{token:"tag",foreground:"FF5590"}],colors:{"editor.foreground":"#bfc7d5"}}),e.languages.registerCompletionItemProvider("typescript",{triggerCharacters:["'",'"',".","/"],provideCompletionItems:(n,o)=>{const r=n.getValueInRange({startLineNumber:1,startColumn:1,endLineNumber:o.lineNumber,endColumn:o.column});if(/(([\s|\n]+from\s+)|(\brequire\b\s*\())["|'][^'^"]*$/.test(r))return r.endsWith(".")||r.endsWith("/")?void 0:{suggestions:t.map((t=>({label:t,kind:e.languages.CompletionItemKind.Module,insertText:t})))}}}))})),Promise.allSettled([o,n.e(37956).then(n.t.bind(n,70637,23)),n.e(49033).then(n.t.bind(n,7712,23)),n.e(42713).then(n.t.bind(n,93716,23)),n.e(78789).then(n.t.bind(n,52031,23)),...e.map((e=>n(73795)(`./${e}.d.ts`)))]).then((t=>{let[n,...o]=t;if("fulfilled"!==n.status||!n.value)return;const r=n.value,[l,a,s,i,...d]=o.map((e=>"fulfilled"===e.status?e.value.default:""));return r.languages.typescript.typescriptDefaults.addExtraLib("declare module \"react/jsx-runtime\" {\n        import './';\n      }","file:///node_modules/@types/react/jsx-runtime.d.ts"),r.languages.typescript.typescriptDefaults.addExtraLib("import * as React from 'react'\n\n    declare global {\n      namespace JSX {\n        interface IntrinsicElements {\n          strike: React.DetailedHTMLProps<React.HTMLAttributes<HTMLElement>, HTMLElement>;\n        }\n      }\n    }","file:///node_modules/@types/react/more.d.ts"),r.languages.typescript.typescriptDefaults.addExtraLib("declare function render(component:JSX.Element):void;\n        declare function CurrentTime(props: {}):JSX.Element;\n        declare function ResetableErrorBoundary(props: { children: JSX.ReactChild }):JSX.Element;\n        declare function randomFloatInRange(min: number, max: number, decimals?: number): number;"),r.languages.typescript.typescriptDefaults.addExtraLib(l,"es2022"),r.languages.typescript.typescriptDefaults.addExtraLib(`declare module "react" { ${a} }`,"file:///node_modules/@types/react/index.d.ts"),r.languages.typescript.typescriptDefaults.addExtraLib(`declare module "bignumber.js" { ${s} }`,"file:///node_modules/bignumber.js/index.d.ts"),r.languages.typescript.typescriptDefaults.addExtraLib(`declare module "rest-hooks" { ${i} }`,"file:///node_modules/rest-hooks/index.d.ts"),r.languages.typescript.typescriptDefaults.addExtraLib(`declare globals { ${i} }`),d.forEach(((t,n)=>{const o=e[n];r.languages.typescript.typescriptDefaults.addExtraLib(`declare module "@rest-hooks/${o}" { ${t} }`,`file:///node_modules/@rest-hooks/${t}/index.d.ts`),"rest"===o&&r.languages.typescript.typescriptDefaults.addExtraLib(`declare globals { ${t} }`)})),r.languages.typescript.javascriptDefaults.setEagerModelSync(!0),r}))}}const k=(0,o.memo)(b.ZP);const w={scrollbar:{alwaysConsumeMouseWheel:!1},minimap:{enabled:!1},wordWrap:"on",scrollBeyondLastLine:!1,wrappingIndent:"indent",lineNumbers:"off",folding:!1};const T=(0,o.memo)(l.uz);var Z=n(3495).Z?function(e){let{onChange:t,code:n,path:r}=e;r.endsWith(".tsx")||r.endsWith(".ts")||(r+=".tsx");const l=function(e,t){const n=function(e){(0,b.Ik)();return(0,o.useRef)()}();return(0,o.useCallback)((function(){n.current&&e(n.current)}),t)}((e=>{e.getEmitOutput(`file:///${r}`).then((e=>{t(e.outputFiles[0].text)}))}),[t,r]),[a,s]=(0,o.useState)(50),i=(0,o.useCallback)((e=>{const t=e.getDomNode(),n=t.getElementsByClassName("view-lines")[0];let o=0;const r=19*e.getModel().getLineCount()+10;t.style.height=r+"px",s(r),e.layout(),e.onDidChangeModelDecorations((()=>{setTimeout((()=>{const l=19*n.childElementCount+10;o=n.childElementCount,t.style.height=l+"px",s(r),e.layout()}),0)}))}),[]);return o.createElement(k,{path:r,defaultLanguage:"typescript",onChange:l,defaultValue:n,options:w,theme:"prism",onMount:i,height:a})}:function(e){let{onChange:t,code:n,path:r}=e;return o.createElement(T,{onChange:t,code:n})};function C(){return o.createElement(o.Fragment,null,N.map(((e,t)=>o.createElement("link",{key:t,rel:"preload",href:e,as:e.endsWith(".js")?"script":"style"}))),S.map(((e,t)=>o.createElement("link",{key:t+N.length,rel:"prefetch",href:e,as:"script"}))))}var R=(0,o.memo)(C);const N=["https://cdn.jsdelivr.net/npm/monaco-editor@0.33.0/min/vs/editor/editor.main.js","https://cdn.jsdelivr.net/npm/monaco-editor@0.33.0/min/vs/editor/editor.main.nls.js","https://cdn.jsdelivr.net/npm/monaco-editor@0.33.0/min/vs/basic-languages/typescript/typescript.js","https://cdn.jsdelivr.net/npm/monaco-editor@0.33.0/min/vs/language/typescript/tsMode.js"],S=["https://cdn.jsdelivr.net/npm/monaco-editor@0.33.0/min/vs/base/worker/workerMain.js","https://cdn.jsdelivr.net/npm/monaco-editor@0.33.0/min/vs/language/typescript/tsWorker.js"];var I;function L(){const{selectedValue:e,setSelectedValue:t,values:n}=(0,o.useContext)(c.Z);return o.createElement("div",{className:u.Z.tabs,role:"tablist","aria-orientation":"horizontal"},n.map((n=>{let{value:r,label:l}=n;return o.createElement("div",{role:"tab",tabIndex:e===r?0:-1,"aria-selected":e===r,key:r,className:(0,a.Z)(u.Z.tab,{[u.Z.selected]:e===r}),onFocus:t,onClick:t,value:r},l)})))}function _(e){let{children:t}=e;return o.createElement(h.Z,{className:u.Z.tabControls},o.createElement("div",{className:u.Z.title},t),o.createElement(L,null))}function j(e){let{title:t,fixtures:n}=e;const{values:r}=(0,o.useContext)(c.Z),l=r.length>0;return o.createElement(o.Fragment,null,n.length?o.createElement(o.Fragment,null,o.createElement(h.Z,{className:u.Z.small},"Fixtures"),o.createElement(g,{fixtures:n})):null,l?o.createElement(_,null,t):null)}function D(e){let{children:t,transformCode:n,groupId:s,defaultOpen:c,row:p,hidden:m,fixtures:g,includeEndpoints:f,...h}=e;const{liveCodeBlock:{playgroundPosition:v}}=(0,i.Z)().siteConfig.themeConfig,y=(0,d.p)();return o.createElement("div",{className:(0,a.Z)(u.Z.playgroundContainer,{[u.Z.row]:p,[u.Z.hidden]:m})},o.createElement(l.nu,(0,r.Z)({theme:y},h),o.createElement(q,{reverse:"top"===v,row:p,fixtures:g,includeEndpoints:f,groupId:s,defaultOpen:c},t)),o.createElement(R,null))}function q(e){let{reverse:t,children:n,row:r,fixtures:s,includeEndpoints:i,groupId:d,defaultOpen:c}=e;const p=(0,o.useMemo)((()=>(1e4*Math.random()).toPrecision(4).toString()),[]),m=(0,o.useMemo)((()=>"string"==typeof n?[{code:n.replace(/\n$/,""),collapsed:!1}]:(Array.isArray(n)?n:[n]).filter((e=>e.props.children)).map((e=>"string"==typeof e.props.children?e.props:e.props.children.props)).map((e=>{let{children:t,title:n="",collapsed:o=!1,path:r}=e;return{code:t.replace(/\n$/,""),title:n.replaceAll('"',""),collapsed:o,path:r}}))),[n]),[g,f]=(0,o.useReducer)(H,void 0,(()=>m.map((e=>{let{code:t}=e;return t})))),h=(0,o.useMemo)((()=>m.map(((e,t)=>e=>{f({i:t,code:e})}))),[m.length]),[b,E]=(0,o.useState)((()=>m.map((e=>{let{collapsed:t}=e;return t})))),x=g.join("\n");return o.createElement(M,{reverse:t},o.createElement("div",null,o.createElement(j,{fixtures:!r&&s}),r&&m.length>1?o.createElement(G,{titles:m.map((e=>{let{title:t}=e;return t})),closedList:b,onClick:e=>E((t=>t.map(((t,n)=>n!==e))))}):null,m.map(((e,t)=>{let{title:n,path:l}=e;return o.createElement(o.Fragment,{key:t},!r&&n?o.createElement(P,{onClick:()=>E((e=>{const n=[...e];return n[t]=!n[t],n})),closed:b[t],title:n}):null,o.createElement("div",{key:t,className:(0,a.Z)(u.Z.playgroundEditor,{[u.Z.hidden]:b[t]})},o.createElement(Z,{key:t,onChange:h[t],code:g[t],path:"/"+p+"/"+(l||n||"default.tsx")})))}))),o.createElement(y.Z,{fallback:o.createElement(l.nu,{key:"preview",code:'render(() => "Loading...");',noInline:!0},o.createElement(v.Z,{key:"preview",includeEndpoints:i,groupId:d,defaultOpen:c,row:r,fixtures:s}))},o.createElement(A,{code:x,includeEndpoints:i,groupId:d,defaultOpen:c,row:r,fixtures:s})))}j.defaultProps={title:o.createElement(s.Z,{id:"theme.Playground.liveEditor",description:"The live editor label of the live codeblocks"},"Editor"),fixtures:[]},D.defaultProps={row:!1,hidden:!1};const O="object"==typeof navigator&&/bot|googlebot|crawler|spider|robot|crawling/i.test(null==(I=navigator)?void 0:I.userAgent),A=(0,o.lazy)((()=>O?Promise.resolve({default:e=>null}):Promise.all([n.e(86429),n.e(87876),n.e(97277),n.e(26750)]).then(n.bind(n,41380))));function M(e){let{children:t,reverse:n}=e;const o=[...t];return o.reverse(),n?o:t}function H(e,t){const n=[...e];return n[t.i]=t.code,n}function P(e){let{onClick:t,closed:n,title:r}=e;return o.createElement(h.Z,{className:u.Z.small,onClick:t},o.createElement("span",{className:(0,a.Z)(u.Z.arrow,n?u.Z.right:u.Z.down)},"\u25b6"),r)}function G(e){let{titles:t,closedList:n,onClick:r}=e;const{values:l}=(0,o.useContext)(c.Z),s=l.length>0;return o.createElement(h.Z,{className:(0,a.Z)({[u.Z.small]:s,[u.Z.subtabs]:s},u.Z.noupper,u.Z.tabControls)},o.createElement("div",{className:u.Z.tabs,role:"tablist","aria-orientation":"horizontal"},t.map(((e,t)=>o.createElement("div",{role:"tab",key:t,onClick:()=>r(t),className:(0,a.Z)(u.Z.tab,{[u.Z.selected]:!n[t]})},e)))))}M.defaultProps={reverse:!1};const $=e=>{let{children:t,groupId:n,hidden:r=!1,defaultOpen:l,row:a=!1,fixtures:s}=e;return o.createElement(D,{includeEndpoints:!Array.isArray(t),noInline:!0,groupId:n,defaultOpen:l,row:a,hidden:r,fixtures:s},"string"==typeof t||Array.isArray(t)?t:t.props.children)};$.defaultProps={defaultOpen:"n",fixtures:[]};var U=(0,o.memo)($)},45045:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var o=n(19666),r=n(67294);function l(e){let{fallback:t,children:n}=e;return r.createElement(o.Z,{fallback:t},(()=>r.createElement(r.Suspense,{fallback:t},n)))}},62974:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var o=n(67294),r=n(86010),l=n(45440);function a(e){let{children:t,className:n,onClick:a}=e;return o.createElement("div",{className:(0,r.Z)(l.Z.playgroundHeader,n,a?l.Z.clickable:null),onClick:a},t)}},80086:(e,t,n)=>{"use strict";n.d(t,{Z:()=>_});var o=n(67294),r=n(11614),l=n(27093),a=n(26127),s=n(82038),i=n(83611),d=n(39714),c=n(86010),u=n(76602),p=n(63735),m=n(45440),g=n(32041),f=n(97723),h=n(70524);function v(e){let{value:t}=e;const n="dark"===(0,h.I)().colorMode,r=(0,o.useMemo)((()=>({String:"rgb(195, 232, 141)",Date:"rgb(247, 140, 108)",Number:"rgb(247, 140, 108)",Boolean:"rgb(247, 140, 108)",Null:"rgb(255, 88, 116)",Undefined:"rgb(255, 88, 116)",Function:"rgb(247, 140, 108)",Symbol:"rgb(247, 140, 108)"})),[]),l=(0,o.useMemo)((()=>({tree:{overflow:"auto",flex:"4 1 70%",margin:0,padding:"0 0.5rem 0 0.8rem",backgroundColor:n?"var(--ifm-pre-background)":"rgb(41, 45, 62)",font:"var(--ifm-code-font-size) / var(--ifm-pre-line-height) var(--ifm-font-family-monospace) !important",color:"rgb(227, 227, 227)"},arrowContainer:(e,t)=>{let{style:n}=e;return{style:{...n,fontFamily:"arial",padding:"7px 7px 7px 0",margin:"-7px calc(0.5em - 7px) -7px 0"}}},arrowSign:{color:"rgb(130, 170, 255)"},label:{color:"rgb(130, 170, 255)"},itemRange:{color:"rgb(105, 112, 152)"},valueText:(e,t)=>{let{style:n}=e;return{style:{...n,color:r[t]}}},base0B:"rgb(191, 199, 213)"})),[n,r]);return o.createElement(f.L,{shouldExpandNode:y,data:t,valueRenderer:E,theme:l,hideRoot:!0})}function y(e,t,n){return 0===n||(!(1!==n||!["entities","results"].includes(e[0]))||(2===n&&"entities"===e[1]||(2===n&&"results"===e[1]||(3===n&&"entities"===e[2]||3===n&&"results"===e[2]))))}const b="undefined"!=typeof Intl;function E(e,t){const n=arguments.length<=2?void 0:arguments[2];return b&&"number"==typeof t&&"string"==typeof n&&isFinite(t)&&("date"===n||n.endsWith("At"))?Intl.DateTimeFormat("en-US",{hour:"numeric",minute:"numeric",second:"numeric",fractionalSecondDigits:3}).format(t):e}function x(e){let{toggle:t,selectedValue:n}=e;const r="y"===n,l=r?m.Z.right:m.Z.left;return o.createElement(o.Fragment,null,o.createElement("div",{className:m.Z.debugToggle,onClick:t},"Store",o.createElement("span",{className:(0,c.Z)(m.Z.arrow,l,m.Z.vertical)},"\u25b6")),r?o.createElement(T,null):null)}var k=(0,o.memo)(x);function w(){const e=(0,o.useContext)(g.sA),t=(0,o.useMemo)((()=>{const t={...e};return delete t.optimistic,t}),[e]);return o.createElement(v,{value:t})}const T=(0,o.memo)(w);var Z=n(45045);function C(e){let{groupId:t,defaultOpen:n,row:r,fixtures:g}=e;const{tabGroupChoices:f,setTabGroupChoices:h}=(0,u.U)(),[v,y]=(0,o.useState)(n),{blockElementScrollPositionUntilNextRender:b}=(0,p.o5)();if(null!=t){const e=f[t];null!=e&&e!==v&&y(e)}const E=(0,o.useCallback)((e=>{b(e.currentTarget),y((e=>"y"===e?"n":"y")),h(t,"y"===v?"n":"y")}),[b,t,v,h]),x=(0,o.useMemo)((()=>[new i.Z,new l.Z(a.Z)]),[]),w=!("n"===v||!r);return o.createElement(s.nq,{managers:x},o.createElement(d.Z,{fixtures:g,silenceMissing:!0},o.createElement("div",{className:(0,c.Z)(m.Z.playgroundPreview,{[m.Z.hidden]:w})},o.createElement(Z.Z,{fallback:o.createElement(N,null)},o.createElement(S,null))),o.createElement(k,{selectedValue:v,toggle:E})))}var R=(0,o.memo)(C);function N(){return o.createElement("div",null,"Loading...")}const S=(0,o.lazy)((()=>Promise.all([n.e(86429),n.e(87876),n.e(97277),n.e(26750)]).then(n.bind(n,15929))));var I=n(62974);function L(e){let{groupId:t,defaultOpen:n,row:l,fixtures:a}=e;return o.createElement("div",{style:{overflow:"hidden",display:"flex",flexDirection:"column"}},o.createElement(I.Z,null,o.createElement(r.Z,{id:"theme.Playground.result",description:"The result label of the live codeblocks"},"Live Preview")),o.createElement("div",{className:m.Z.playgroundResult},o.createElement(R,{groupId:t,defaultOpen:n,row:l,fixtures:a})))}var _=(0,o.memo)(L)},3495:(e,t)=>{"use strict";const n="undefined"!=typeof window&&!/bot|googlebot|crawler|spider|robot|crawling|Mobile|Android|BlackBerry/i.test(navigator.userAgent);t.Z=n},22683:(e,t,n)=>{"use strict";n.d(t,{o:()=>a,q:()=>d});var o=n(69625),r=n(61899);const l=Date.now();let a=[{userId:1,id:1,title:"delectus aut autem",completed:!1},{userId:1,id:2,title:"quis ut nam facilis et officia qui",completed:!1},{userId:1,id:3,title:"fugiat veniam minus",completed:!1},{userId:1,id:4,title:"et porro tempora",completed:!0},{userId:1,id:5,title:"laboriosam mollitia et enim quasi adipisci quia provident illum",completed:!1}].map((e=>({...e,updatedAt:l}))),s=a.reduce(((e,t)=>Math.max(e.id,t)),0),i=0;const d=[o.r.get("/api/todos",((e,t,n)=>t(n.status(200),n.delay(150),n.json(a)))),o.r.get("/api/todos/:id",((e,t,n)=>{const{id:o}=e.params,r=a.find((e=>e.id==o));return r?t(n.status(200),n.delay(150),n.json(r)):t(n.status(404),n.delay(150))})),o.r.patch("/api/todos/:id",((e,t,n)=>{const{id:o}=e.params,r=a.findIndex((e=>e.id==o));return r<0?t(n.status(404),n.delay(150)):(a[r]={...a[r],updatedAt:Date.now(),...e.body},t(n.status(200),n.delay(150),n.json(a[r])))})),o.r.post("/api/todos",((e,t,n)=>(a.push({id:s++,updatedAt:Date.now(),...e.body}),t(n.status(201),n.delay(150),n.json(a[a.length-1]))))),o.r.delete("/api/todos/:id",((e,t,n)=>{const{id:o}=e.params,r=a.findIndex((e=>e.id==o));return r<0?t(n.status(204),n.delay(150)):(a=a.slice(0,r).concat(a.slice(r+1)),t(n.status(200),n.delay(150),n.json("")))})),o.r.get("/api/currentTime/:id",((e,t,n)=>{const{id:o}=e.params;return t(n.status(200),n.delay(150),n.json({id:o,updatedAt:(new Date).toISOString()}))})),r.g.query("GetTodos",((e,t,n)=>t(n.delay(150),n.data({todos:a})))),r.g.query("GetTodo",((e,t,n)=>{const{id:o}=e.variables;return t(n.delay(150),n.data({todo:a.find((e=>e.id===o))}))})),r.g.mutation("UpdateTodo",((e,t,n)=>{const{todo:o}=e.variables,r=o.id,l=a.find((e=>e.id===r)),s={...l,...o};return t(n.data({updateTodo:s}))})),o.r.get("/api/count",((e,t,n)=>t(n.status(200),n.delay(150),n.json({count:i,updatedAt:l})))),o.r.post("/api/count/increment",((e,t,n)=>t(n.status(200),n.delay(500+4500*Math.random()),n.json({count:++i,updatedAt:e.body.updatedAt}))))]},14009:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>H});var o=n(67294),r=n(86010),l=n(67678),a=n(88746),s=n(6832),i=n(47002),d=n(51402),c="heroBanner_qdFl",u="logoWrapper_lGCO",p="buttons_AeoN",m="GitHubButtonWrapper__QmI",g="GitHubButton_HPQt",f=n(87462),h="features_xdhU",v="featureSvg__8YW";const y=[{description:o.createElement(o.Fragment,null,"Strong ",o.createElement("b",null,"inferred")," types; single source of truth that is referentially stable ensures consistency; ",o.createElement("b",null,"asynchronous invariants")," ","make it easy to avoid race conditions"),light:"/img/typescript.svg",dark:"/img/typescript.dark.svg",title:"Data Integrity"},{description:o.createElement(o.Fragment,null,"Normalized cache means data is often ",o.createElement("b",null,"ready before")," it is even needed. Automatic ",o.createElement("b",null,"request deduplication")," means less data to send over the network."),Svg:n(74371).Z,title:"Performance"},{description:o.createElement(o.Fragment,null,o.createElement("b",null,"Declare")," what you need ",o.createElement("b",null,"where")," you need it. ",o.createElement("b",null,"Share")," data definitions ",o.createElement("b",null,"across platforms"),", components,"," ",o.createElement(a.Z,{to:"/docs#protocol-specific-patterns"},"protocols"),", and behaviors."),Svg:n(59333).Z,title:"Composition over configuration"},{description:o.createElement(o.Fragment,null,"Get started fast with ",o.createElement("b",null,"one line")," ",o.createElement(a.Z,{to:"/docs#endpoint"},"data definition")," and one line"," ",o.createElement(a.Z,{to:"/docs#co-locate-data-dependencies"},"data binding"),". Then"," ",o.createElement("b",null,"add")," TypeScript, normalized cache with"," ",o.createElement(a.Z,{to:"/docs#entities"},"Schemas"),","," ",o.createElement(a.Z,{to:"/docs#optimistic-updates"},"optimistic updates")," and more."),Svg:n(92738).Z,title:"Incremental Adoption"}];function b(e){let{Svg:t,light:n,dark:l,title:a,description:s}=e;const c={light:(0,d.Z)(n),dark:(0,d.Z)(l)};return o.createElement("div",{className:(0,r.Z)("col col--3")},o.createElement("div",{className:"text--center"},t?o.createElement(t,{className:v,alt:a}):o.createElement(i.Z,{className:v,alt:a,sources:c})),o.createElement("div",{className:"text--center padding-horiz--md"},o.createElement("h3",null,a),o.createElement("p",null,s)))}function E(){return o.createElement("section",{className:h},o.createElement("div",{className:"container"},o.createElement("div",{className:"row"},y.map(((e,t)=>o.createElement(b,(0,f.Z)({key:t},e)))))))}var x=n(73727),k=n(22773),w=n(22683),T=n(76602),Z=n(63735),C=n(69762);function R(e){let{defaultValue:t,groupId:n=null,values:r,playgroundRef:l,children:a}=e;const{tabGroupChoices:s,setTabGroupChoices:i}=(0,T.U)(),[d,c]=(0,o.useState)(t),{blockElementScrollPositionUntilNextRender:u}=(0,Z.o5)();if(null!=n){const e=s[n];null!=e&&e!==d&&r.find((t=>{let{value:n}=t;return n===e}))&&c(e)}const p={selectedValue:d,values:r,setSelectedValue:e=>{const t=e.currentTarget.getAttribute("value");t!==d&&(u(l.current),c(t),null!=n&&i(n,t))}};return o.createElement(C.Z.Provider,{value:p},a)}var N=(0,o.memo)(R),S=n(90008);const I=(0,o.memo)((0,o.forwardRef)(((e,t)=>{const{selectedValue:n,values:r}=(0,o.useContext)(C.Z);return o.createElement("div",{ref:t},r.map((e=>{let{value:t,endpointCode:r,code:l,fixtures:a}=e;return o.createElement(S.Z,{groupId:"homepage-demo",row:!0,key:t,hidden:t!==n,fixtures:a},o.createElement("code",{title:"Endpoint",path:`${t}/api.ts`,collapsed:!0},r),o.createElement("code",{title:"React",path:`${t}/component.tsx`},l))})))})));function L(e){let{codes:t,defaultValue:n}=e;const r=(0,o.useRef)();return o.createElement(N,{defaultValue:n,groupId:"protocol",values:t,playgroundRef:r},o.createElement(I,{ref:r}))}var _="demoList_Xsm7";const j=[{label:"Fetch",value:"fetch",endpointCode:"export const getTodo = new RestEndpoint({\n  urlPrefix: 'https://jsonplaceholder.typicode.com',\n  path: '/todos/:id',\n});",code:"import { getTodo } from './api';\n\nfunction TodoDetail({ id }: { id: number }) {\n  const todo = useSuspense(getTodo, { id });\n  return <div>{todo.title}</div>;\n}\nrender(<TodoDetail id={1} />);\n"},{label:"REST",value:"rest",endpointCode:"export class Todo extends Entity {\n  id = 0;\n  userId = 0;\n  title = '';\n  completed = false;\n  pk() { return `${this.id}` }\n}\nexport const TodoResource = createResource({\n  urlPrefix: 'https://jsonplaceholder.typicode.com',\n  path: '/todos/:id',\n  schema: Todo,\n})",code:"import { TodoResource } from './api';\n\nfunction TodoDetail({ id }: { id: number }) {\n  const todo = useSuspense(TodoResource.get, { id });\n  return <div>{todo.title}</div>;\n}\nrender(<TodoDetail id={1} />);\n"},{label:"GraphQL",value:"graphql",fixtures:[{endpoint:new k.Z("/").query("\n  query GetTodo($id: ID!) {\n    todo(id: $id) {\n      id\n      title\n      completed\n    }\n  }\n"),args:[{id:1}],response:{todo:w.o.find((e=>1===e.id))},delay:150}],endpointCode:"import { GQLEndpoint } from '@rest-hooks/graphql';\n\nconst gql = new GQLEndpoint('/');\nexport const getTodo = gql.query(`\n  query GetTodo($id: ID!) {\n    todo(id: $id) {\n      id\n      title\n      completed\n    }\n  }\n`);",code:"import { getTodo } from './api';\n\nfunction TodoDetail({ id }: { id: number }) {\n  const { todo } = useSuspense(getTodo, { id });\n  return <div>{todo.title}</div>;\n}\nrender(<TodoDetail id={1} />);\n"}],D=[{label:"REST",value:"rest",endpointCode:"export class Todo extends Entity {\n  id = 0;\n  userId = 0;\n  title = '';\n  completed = false;\n  pk() { return `${this.id}` }\n}\nconst BaseTodoResource = createResource({\n  urlPrefix: 'https://jsonplaceholder.typicode.com',\n  path: '/todos/:id',\n  schema: Todo,\n});\nexport const TodoResource = {\n  ...BaseTodoResource,\n  partialUpdate: BaseTodoResource.partialUpdate.extend({\n    getOptimisticResponse(snap, params, body) {\n      return {\n        id: params.id,\n        ...body,\n      };\n    },\n  }),\n};",code:"import { TodoResource } from './api';\n\nfunction TodoDetail({ id }: { id: number }) {\n  const todo = useSuspense(TodoResource.get, { id });\n  const controller = useController();\n  const updateWith = title => () =>\n    controller.fetch(\n      TodoResource.partialUpdate,\n      { id },\n      { title }\n    );\n  return (\n    <div>\n      <div>{todo.title}</div>\n      <button onClick={updateWith('\ud83e\udd51')}>\ud83e\udd51</button>\n      <button onClick={updateWith('\ud83d\udc96')}>\ud83d\udc96</button>\n    </div>\n  );\n}\nrender(<TodoDetail id={1} />);\n"},{label:"GraphQL",value:"graphql",fixtures:[{endpoint:new k.Z("/").query("\n  query GetTodo($id: ID!) {\n    todo(id: $id) {\n      id\n      title\n      completed\n    }\n  }\n"),args:[{id:1}],response:{todo:w.o.find((e=>1===e.id))},delay:150}],endpointCode:"import { GQLEndpoint, GQLEntity } from '@rest-hooks/graphql';\n\nconst gql = new GQLEndpoint('/');\n\nexport class Todo extends GQLEntity {\n  readonly title: string = '';\n  readonly completed: boolean = false;\n}\n\nexport const getTodo = gql.query(`\n  query GetTodo($id: ID!) {\n    todo(id: $id) {\n      id\n      title\n      completed\n    }\n  }\n`, { todo: Todo });\n\nexport const updateTodo = gql.mutation(\n  `mutation UpdateTodo($todo: Todo!) {\n    updateTodo(todo: $todo) {\n      id\n      title\n      completed\n    }\n  }`,\n  { updateTodo: Todo },\n);",code:"import { getTodo, updateTodo } from './api';\n\nfunction TodoDetail({ id }: { id: number }) {\n  const { todo } = useSuspense(getTodo, { id });\n  const controller = useController();\n  const updateWith = title => () =>\n    controller.fetch(\n      updateTodo,\n      { todo: { id, title } }\n    );\n  return (\n    <div>\n      <div>{todo.title}</div>\n      <button onClick={updateWith('\ud83e\udd51')}>\ud83e\udd51</button>\n      <button onClick={updateWith('\ud83d\udc96')}>\ud83d\udc96</button>\n    </div>\n  );\n}\nrender(<TodoDetail id={1} />);\n  "}],q=[{label:"REST",value:"rest",endpointCode:"export class Todo extends Entity {\n  id = 0;\n  userId = 0;\n  title = '';\n  completed = false;\n  pk() { return `${this.id}` }\n}\nconst BaseTodoResource = createResource({\n  urlPrefix: 'https://jsonplaceholder.typicode.com',\n  path: '/todos/:id',\n  schema: Todo,\n});\nexport const TodoResource = {\n  ...BaseTodoResource,\n  getList: BaseTodoResource.getList.extend({\n    process(todos) {\n      return todos.slice(0, 7);\n    },\n  }),\n  partialUpdate: BaseTodoResource.partialUpdate.extend({\n    getOptimisticResponse(snap, params, body) {\n      return {\n        id: params.id,\n        ...body,\n      };\n    },\n  }),\n  delete: BaseTodoResource.delete.extend({\n    getOptimisticResponse(snap, params) {\n      return params;\n    },\n  }),\n};",code:"import { TodoResource, Todo } from './api';\n\nfunction TodoItem({ todo }: { todo: Todo }) {\n  const controller = useController();\n  return (\n    <div>\n      <label>\n        <input\n          type=\"checkbox\"\n          checked={todo.completed}\n          onChange={e =>\n            controller.fetch(\n              TodoResource.partialUpdate,\n              { id: todo.id },\n              { completed: e.currentTarget.checked },\n            )\n          }\n        />\n        {todo.completed ? (\n          <strike>{todo.title}</strike>\n        ) : (\n          todo.title\n        )}\n      </label>\n      <span\n        style={{ cursor: 'pointer' }}\n        onClick={() =>\n          controller.fetch(TodoResource.delete, {\n            id: todo.id,\n          })\n        }\n      >\n        \u274c\n      </span>\n    </div>\n  );\n}\n\nfunction TodoList() {\n  const todos = useSuspense(TodoResource.getList);\n  return (\n    <div>\n      {todos.map(todo => (\n        <TodoItem key={todo.pk()} todo={todo} />\n      ))}\n    </div>\n  );\n}\nrender(<TodoList />);\n"},{label:"GraphQL",value:"graphql",fixtures:[{endpoint:new k.Z("/").query("\n  query GetTodos {\n    todo {\n      id\n      title\n      completed\n    }\n  }\n"),args:[{}],response:{todos:w.o},delay:150}],endpointCode:"import { GQLEndpoint, GQLEntity } from '@rest-hooks/graphql';\n\nconst gql = new GQLEndpoint('/');\n\nexport class Todo extends GQLEntity {\n  readonly title: string = '';\n  readonly completed: boolean = false;\n}\n\nexport const todoList = gql.query(`\n  query GetTodos {\n    todo {\n      id\n      title\n      completed\n    }\n  }\n`, { todos: [Todo] });\n\nexport const updateTodo = gql.mutation(\n  `mutation UpdateTodo($todo: Todo!) {\n    updateTodo(todo: $todo) {\n      id\n      title\n      completed\n    }\n  }`,\n  { updateTodo: Todo },\n);",code:"import { todoList, updateTodo, Todo } from './api';\n\nfunction TodoItem({ todo }: { todo: Todo }) {\n  const controller = useController();\n  return (\n    <div>\n      <label>\n        <input\n          type=\"checkbox\"\n          checked={todo.completed}\n          onChange={e =>\n            controller.fetch(updateTodo, {\n              todo: { id: todo.id, completed: e.currentTarget.checked },\n            })\n          }\n        />\n        {todo.completed ? <strike>{todo.title}</strike> : todo.title}\n      </label>\n    </div>\n  );\n}\n\nfunction TodoList() {\n  const { todos } = useSuspense(todoList, {});\n  return (\n    <div>\n      {todos.map(todo => (\n        <TodoItem key={todo.pk()} todo={todo} />\n      ))}\n    </div>\n  );\n}\nrender(<TodoList />);\n"}];var O=e=>o.createElement("div",{className:"container"},o.createElement("div",{className:(0,r.Z)("row",_)},o.createElement("div",{className:"col col--3"},o.createElement("h2",null,"A simple data fetch"),o.createElement("div",null,o.createElement("p",null,"Add a single ",o.createElement(x.rU,{to:"/docs/api/useSuspense"},"useSuspense()")," ","call"," ",o.createElement(x.rU,{to:"/docs/getting-started/data-dependency"},"where you need its data"),"."),o.createElement("p",null,"Rest Hooks automatically optimizes performance by caching the results, deduplicating fetches, efficient component render bindings and more."))),o.createElement("div",{className:"col col--9"},o.createElement(L,{codes:j,defaultValue:"rest"}))),o.createElement("div",{className:(0,r.Z)("row",_)},o.createElement("div",{className:"col col--3"},o.createElement("h2",null,"Stateful mutations"),o.createElement("div",null,o.createElement("p",null,"Use ",o.createElement(x.rU,{to:"/docs/api/Controller#fetch"},"Controller.fetch()")," ","to update the store."),o.createElement("p",null,"Rest Hooks ensures data consistency and integrity globally. Every piece of data maintains referential stability unless it changes. This ensures the most optimized render performance, as well as predictable equality checks."))),o.createElement("div",{className:"col col--9"},o.createElement(L,{codes:D,defaultValue:"rest"}))),o.createElement("div",{className:(0,r.Z)("row",_)},o.createElement("div",{className:"col col--3"},o.createElement("h2",null,"An application"),o.createElement("div",null,o.createElement("p",null,"Data can be consumed and controlled in many contexts, speeding up development."),o.createElement("p",null,"Rest Hooks uses"," ",o.createElement(x.rU,{to:"/docs/getting-started/entity"},"data normalization")," to maintain consistency no matter how and where the data is consumed."),o.createElement("p",null,"Rest easy with the help of"," ",o.createElement(x.rU,{to:"/docs/guides/debugging"},"debugging"),","," ",o.createElement(x.rU,{to:"/docs/guides/unit-testing-hooks"},"unit testing"),", and"," ",o.createElement(x.rU,{to:"/docs/guides/storybook"},"storybook integration"),"."))),o.createElement("div",{className:"col col--9"},o.createElement(L,{codes:q,defaultValue:"rest"}))));const A=()=>{const e={light:(0,d.Z)("img/rest_hooks_logo_and_text_subtitle--light.svg"),dark:(0,d.Z)("img/rest_hooks_logo_and_text_subtitle--dark.svg")};return o.createElement(o.Fragment,null,o.createElement("div",{className:u},o.createElement(i.Z,{sources:e,alt:"Rest Hooks - The Object Protocol Mapper for React",height:90,width:416})))};function M(){const{siteConfig:e}=(0,s.Z)();return o.createElement("header",{className:(0,r.Z)("hero",c)},o.createElement("div",{className:"container"},o.createElement(A,null),o.createElement("div",{className:p},o.createElement(a.Z,{className:"button button--primary ",to:"/docs/getting-started/installation"},"Get Started"),o.createElement("span",{className:m},o.createElement("iframe",{className:g,src:"https://ghbtns.com/github-btn.html?user=coinbase&repo=rest-hooks&type=star&count=true&size=large",width:160,height:30,title:"GitHub Stars"})))))}function H(){const{siteConfig:e}=(0,s.Z)();return o.createElement(l.Z,{title:"Declarative Async State Management for React",description:"Making dynamic sites performant, scalable, simple to build with any API design. ...all typed ...fast ...and consistent"},o.createElement(M,null),o.createElement("main",null,o.createElement(O,null),o.createElement(E,null)))}},57489:(e,t,n)=>{"use strict";var o=n(67294),r=n(72887);const l={React:o,...o,...r};t.Z=l},59333:(e,t,n)=>{"use strict";var o,r=n(67294);function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},l.apply(this,arguments)}t.Z=e=>{let{title:t,titleId:n,...a}=e;return r.createElement("svg",l({height:"512pt",viewBox:"-10 0 512 512",width:"512pt",xmlns:"http://www.w3.org/2000/svg",role:"img","aria-labelledby":n},a),t?r.createElement("title",{id:n},t):null,o||(o=r.createElement("path",{fill:"currentColor",d:"m483 395.172-38.734-22.375v-79.64L483 270.78c9.566-5.523 12.84-17.758 7.316-27.32-5.527-9.566-17.757-12.844-27.324-7.316l-38.77 22.394-68.84-39.746V139.25l38.833-22.422c9.566-5.52 12.844-17.754 7.32-27.316-5.523-9.567-17.754-12.848-27.32-7.32l-38.832 22.417L266.5 64.844V20c0-11.047-8.953-20-20-20s-20 8.953-20 20v44.844l-68.883 39.77-38.836-22.423c-9.562-5.523-21.797-2.246-27.316 7.32-5.524 9.567-2.246 21.798 7.316 27.321l38.836 22.422v79.543l-68.84 39.742-38.77-22.394c-9.566-5.524-21.796-2.25-27.323 7.316-5.524 9.562-2.25 21.797 7.316 27.32l38.734 22.375v79.64L10 395.173c-9.566 5.523-12.84 17.754-7.316 27.32 5.543 9.598 17.789 12.824 27.324 7.317l38.77-22.395 68.84 39.746V492c0 11.047 8.952 20 20 20 11.046 0 20-8.953 20-20v-44.844l68.882-39.77 68.883 39.774V492c0 11.047 8.957 20 20 20 11.047 0 20-8.953 20-20v-44.844l68.844-39.746 38.77 22.395c9.546 5.515 21.784 2.27 27.32-7.313 5.523-9.566 2.25-21.797-7.317-27.32zm-256.5-22.426-68.883 39.77-68.883-39.77v-79.543l68.883-39.77 68.883 39.774zm-48.883-153.953v-79.54L246.5 99.485l68.883 39.77v79.543L246.5 258.562zm226.649 153.953-68.883 39.77-68.883-39.77v-79.543l68.883-39.77 68.883 39.77zm0 0"})))}},74371:(e,t,n)=>{"use strict";var o,r=n(67294);function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},l.apply(this,arguments)}t.Z=e=>{let{title:t,titleId:n,...a}=e;return r.createElement("svg",l({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 30 22.5",xmlSpace:"preserve",role:"img","aria-labelledby":n},a),t?r.createElement("title",{id:n},t):null,o||(o=r.createElement("g",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",fill:"currentColor"},r.createElement("path",{d:"M9 21c-.736 0-1.375.405-1.722 1A1.98 1.98 0 0 0 7 23c0 1.102.897 2 2 2s2-.898 2-2a1.97 1.97 0 0 0-.278-1c-.347-.595-.985-1-1.722-1zM23 21c-.736 0-1.375.405-1.722 1A1.98 1.98 0 0 0 21 23c0 1.102.897 2 2 2s2-.898 2-2a1.97 1.97 0 0 0-.278-1c-.347-.595-.985-1-1.722-1z"}),r.createElement("path",{d:"M29 19v-1l-6-1.715L16 12H5v1h6v1H0v1h12v1H2v1h5v1H5v1H1v1h5v1H5v1H2v1h4c0-.352.072-.686.184-1A2.993 2.993 0 0 1 9 20c1.305 0 2.402.838 2.816 2 .111.314.184.648.184 1h8c0-.352.072-.686.184-1A2.993 2.993 0 0 1 23 20c1.305 0 2.402.838 2.816 2 .111.314.184.648.184 1h3v-1h1v-3h-1z"}))))}},92738:(e,t,n)=>{"use strict";var o,r=n(67294);function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},l.apply(this,arguments)}t.Z=e=>{let{title:t,titleId:n,...a}=e;return r.createElement("svg",l({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 189.667 189.667",style:{enableBackground:"new 0 0 189.667 189.667"},role:"img","aria-labelledby":n},a),t?r.createElement("title",{id:n},t):null,o||(o=r.createElement("path",{fill:"currentColor",d:"M184.667 160.301h-7.728V24.366a5 5 0 0 0-5-5h-24.5a5 5 0 0 0-5 5v135.935h-8.136V43.96a5 5 0 0 0-5-5h-24.5a5 5 0 0 0-5 5v116.341h-8.136V74.366a5 5 0 0 0-5-5H62.166a5 5 0 0 0-5 5v85.935H49.03v-57.935a5 5 0 0 0-5-5H19.529a5 5 0 0 0-5 5v57.935H5a5 5 0 0 0 0 10H184.666a5 5 0 0 0 .001-10z"})))}},45440:(e,t)=>{"use strict";t.Z={playgroundContainer:"playgroundContainer_sLUA",playgroundHeader:"playgroundHeader_Zx4K",tabControls:"tabControls_trxh",row:"row_YGZs",hidden:"hidden_Hh8i",small:"small_xksL",clickable:"clickable_YHiX",noupper:"noupper_WDCF",subtabs:"subtabs_XtJb",playgroundEditor:"playgroundEditor_lYwu",closed:"closed_QJMa",arrow:"arrow_tivA",vertical:"vertical_OMeC",right:"right_vs_C",left:"left_iDcB",up:"up_H4F7",down:"down_oRky",playgroundPreview:"playgroundPreview_rk9R",playgroundError:"playgroundError_sRnA",playgroundResult:"playgroundResult_tefG",debugToggle:"debugToggle_zlro",title:"title_poUY",tabs:"tabs_m54V",tab:"tab_bTGw",selected:"selected_QXZk",fixtureBlock:"fixtureBlock_mpRK",fixtureItem:"fixtureItem_Jd6V",fixtureHeader:"fixtureHeader_KYel",fixtureJson:"fixtureJson_HnbR"}},73795:(e,t,n)=>{var o={"./core.d.ts":[90734,30007],"./endpoint.d.ts":[73118,72901],"./graphql.d.ts":[60467,99076],"./hooks.d.ts":[56890,22595],"./normalizr.d.ts":[14991,12192],"./rest.d.ts":[42714,46324]};function r(e){if(!n.o(o,e))return Promise.resolve().then((()=>{var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=o[e],r=t[0];return n.e(t[1]).then((()=>n.t(r,23)))}r.keys=()=>Object.keys(o),r.id=73795,e.exports=r},22773:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var o=n(4391),r=n(91085);class l extends o.Z{constructor(e,t){return super((async function(e){return this.fetchResponse(this.url,this.getRequestInit(e)).then((t=>this.process(t,e)))}),e?{...t,url:e}:t),this}key(e){return`${this.getQuery(e)} ${JSON.stringify(e)}`}getQuery(e){throw new Error("You must include a query")}getHeaders(e){return e}getRequestInit(e){var t;return{body:JSON.stringify({query:this.getQuery(e),variables:e}),method:"POST",signal:null!=(t=this.signal)?t:null,headers:this.getHeaders({"Content-Type":"application/json"})}}fetchResponse(e,t){return fetch(e,t).then((async e=>{const t=await e.json();if(t.errors)throw new r.Z(t.errors);if(!e.ok)throw new r.Z([t]);return t.data})).catch((e=>{throw e instanceof TypeError&&(e.status=400),e}))}process(e,t){return e}errorPolicy(e){return e.status>=500?"soft":void 0}query(e,t){const n={schema:t,getQuery:"function"==typeof e?e:()=>e};return this.extend(n)}mutation(e,t){const n={sideEffect:!0,schema:t,getQuery:"function"==typeof e?e:()=>e};return this.extend(n)}}},91085:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});class o extends Error{constructor(e){super(e[0].message),this.name="NetworkError",this.status=400,this.errors=e}}}}]);