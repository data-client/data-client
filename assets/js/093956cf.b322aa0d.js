/*! For license information please see 093956cf.b322aa0d.js.LICENSE.txt */
"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[79992],{41535:(e,t)=>{var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),i=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.iterator;var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},y=Object.assign,h={};function b(e,t,n){this.props=e,this.context=t,this.refs=h,this.updater=n||m}function g(){}function v(e,t,n){this.props=e,this.context=t,this.refs=h,this.updater=n||m}b.prototype.isReactComponent={},b.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},b.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=b.prototype;var k=v.prototype=new g;k.constructor=v,y(k,b.prototype),k.isPureReactComponent=!0;var T=Array.isArray,E=Object.prototype.hasOwnProperty,w={current:null},j={key:!0,ref:!0,__self:!0,__source:!0};function O(e,t,r){var o,a={},l=null,s=null;if(null!=t)for(o in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(l=""+t.key),t)E.call(t,o)&&!j.hasOwnProperty(o)&&(a[o]=t[o]);var i=arguments.length-2;if(1===i)a.children=r;else if(1<i){for(var c=Array(i),u=0;u<i;u++)c[u]=arguments[u+2];a.children=c}if(e&&e.defaultProps)for(o in i=e.defaultProps)void 0===a[o]&&(a[o]=i[o]);return{$$typeof:n,type:e,key:l,ref:s,props:a,_owner:w.current}}function S(e){return"object"==typeof e&&null!==e&&e.$$typeof===n}var _=/\/+/g;function N(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function P(e,t,o,a,l){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var i=!1;if(null===e)i=!0;else switch(s){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case n:case r:i=!0}}if(i)return l=l(i=e),e=""===a?"."+N(i,0):a,T(l)?(o="",null!=e&&(o=e.replace(_,"$&/")+"/"),P(l,t,o,"",(function(e){return e}))):null!=l&&(S(l)&&(l=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(l,o+(!l.key||i&&i.key===l.key?"":(""+l.key).replace(_,"$&/")+"/")+e)),t.push(l)),1;if(i=0,a=""===a?".":a+":",T(e))for(var c=0;c<e.length;c++){var u=a+N(s=e[c],c);i+=P(s,t,o,u,l)}else if(u=function(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"==typeof u)for(e=u.call(e),c=0;!(s=e.next()).done;)i+=P(s=s.value,t,o,u=a+N(s,c++),l);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function x(e,t,n){if(null==e)return e;var r=[],o=0;return P(e,r,"","",(function(e){return t.call(n,e,o++)})),r}function I(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var R={current:null},Z={transition:null}},27378:(e,t,n)=>{n(41535)},30433:(e,t,n)=>{n.d(t,{Z:()=>l});var r=n(67294),o=n(86010),a="tabItem_Ymn6";function l(e){let{children:t,hidden:n,className:l}=e;return r.createElement("div",{role:"tabpanel",className:(0,o.Z)(a,l),hidden:n},t)}},65559:(e,t,n)=>{n.d(t,{Z:()=>f});var r=n(87462),o=n(67294),a=n(86010),l=n(5730),s=n(20636),i=n(76602),c=n(63735),u="tabList__CuJ",p="tabItem_LNqP";function d(e){const{lazy:t,block:n,defaultValue:l,values:d,groupId:f,className:m}=e,y=o.Children.map(e.children,(e=>{if((0,o.isValidElement)(e)&&"value"in e.props)return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)})),h=d??y.map((e=>{let{props:{value:t,label:n,attributes:r}}=e;return{value:t,label:n,attributes:r}})),b=(0,s.l)(h,((e,t)=>e.value===t.value));if(b.length>0)throw new Error(`Docusaurus error: Duplicate values "${b.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`);const g=null===l?l:l??y.find((e=>e.props.default))?.props.value??y[0].props.value;if(null!==g&&!h.some((e=>e.value===g)))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${g}" but none of its children has the corresponding value. Available values are: ${h.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);const{tabGroupChoices:v,setTabGroupChoices:k}=(0,i.U)(),[T,E]=(0,o.useState)(g),w=[],{blockElementScrollPositionUntilNextRender:j}=(0,c.o5)();if(null!=f){const e=v[f];null!=e&&e!==T&&h.some((t=>t.value===e))&&E(e)}const O=e=>{const t=e.currentTarget,n=w.indexOf(t),r=h[n].value;r!==T&&(j(t),E(r),null!=f&&k(f,String(r)))},S=e=>{let t=null;switch(e.key){case"Enter":O(e);break;case"ArrowRight":{const n=w.indexOf(e.currentTarget)+1;t=w[n]??w[0];break}case"ArrowLeft":{const n=w.indexOf(e.currentTarget)-1;t=w[n]??w[w.length-1];break}}t?.focus()};return o.createElement("div",{className:(0,a.Z)("tabs-container",u)},o.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,a.Z)("tabs",{"tabs--block":n},m)},h.map((e=>{let{value:t,label:n,attributes:l}=e;return o.createElement("li",(0,r.Z)({role:"tab",tabIndex:T===t?0:-1,"aria-selected":T===t,key:t,ref:e=>w.push(e),onKeyDown:S,onClick:O},l,{className:(0,a.Z)("tabs__item",p,l?.className,{"tabs__item--active":T===t})}),n??t)}))),t?(0,o.cloneElement)(y.filter((e=>e.props.value===T))[0],{className:"margin-top--md"}):o.createElement("div",{className:"margin-top--md"},y.map(((e,t)=>(0,o.cloneElement)(e,{key:t,hidden:e.props.value!==T})))))}function f(e){const t=(0,l.Z)();return o.createElement(d,(0,r.Z)({key:String(t)},e))}},47885:(e,t,n)=>{n.d(t,{Z:()=>l});var r=n(30433),o=n(65559),a=n(67294);function l(e){let{children:t}=e;return a.createElement(o.Z,{defaultValue:"ts",groupId:"language",values:[{label:"TypeScript",value:"ts"},{label:"JavaScript",value:"js"}]},a.createElement(r.Z,{value:"ts"},t[0]),a.createElement(r.Z,{value:"js"},t[1]))}},80896:(e,t,n)=>{n.d(t,{Z:()=>l});var r=n(76602),o=n(13743),a=n(67294);function l(e){let{pkgs:t,dev:n=!1}=e;const{tabGroupChoices:l}=(0,r.U)();return"yarn"===l["node-packages-program"]?a.createElement(o.Z,{className:"language-bash"},"yarn add ",n?"--dev ":"",t):a.createElement(o.Z,{className:"language-bash"},"npm install --save",n?"Dev ":""," ",t)}},73558:(e,t,n)=>{n.d(t,{Z:()=>l});var r=n(30433),o=n(65559),a=n(67294);function l(e){let{children:t}=e;return a.createElement(o.Z,{defaultValue:"rest",groupId:"protocol",values:[{label:"Rest",value:"rest"},{label:"GraphQL",value:"gql"}]},a.createElement(r.Z,{value:"rest"},t[0]),a.createElement(r.Z,{value:"gql"},t[1]))}},57489:(e,t,n)=>{var r=n(67294),o=n(64820);const a={React:r,...r,...o};t.Z=a},41512:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>p,contentTitle:()=>c,default:()=>m,frontMatter:()=>i,metadata:()=>u,toc:()=>d});var r=n(87462),o=(n(27378),n(3905)),a=(n(51402),n(47002),n(65559)),l=n(30433),s=(n(47885),n(73558),n(80896));const i={title:"Define API Endpoints",sidebar_label:"Define API"},c=void 0,u={unversionedId:"getting-started/endpoint",id:"getting-started/endpoint",title:"Define API Endpoints",description:"Define API for Rest Hooks",source:"@site/../docs/core/getting-started/endpoint.md",sourceDirName:"getting-started",slug:"/getting-started/endpoint",permalink:"/docs/getting-started/endpoint",draft:!1,editUrl:"https://github.com/coinbase/rest-hooks/edit/master/docs/getting-started/endpoint.md",tags:[],version:"current",lastUpdatedBy:"Nathaniel Tucker",lastUpdatedAt:1671593418,formattedLastUpdatedAt:"Dec 21, 2022",frontMatter:{title:"Define API Endpoints",sidebar_label:"Define API"},sidebar:"docs",previous:{title:"Installation",permalink:"/docs/getting-started/installation"},next:{title:"Render Data",permalink:"/docs/getting-started/data-dependency"}},p={},d=[],f={toc:d};function m(e){let{components:t,...n}=e;return(0,o.kt)("wrapper",(0,r.Z)({},f,n,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("head",null,(0,o.kt)("title",null,"Define API for Rest Hooks")),(0,o.kt)("p",null,(0,o.kt)("a",{parentName:"p",href:"/rest/api/RestEndpoint"},"Endpoints")," are the ",(0,o.kt)("em",{parentName:"p"},"methods")," of your data. ",(0,o.kt)("a",{parentName:"p",href:"/docs/concepts/normalization"},"Schemas")," define the data model. ",(0,o.kt)("a",{parentName:"p",href:"/rest/api/createResource"},"Resources")," are\na collection of ",(0,o.kt)("inlineCode",{parentName:"p"},"endpoints")," around one ",(0,o.kt)("inlineCode",{parentName:"p"},"schema"),"."),(0,o.kt)(a.Z,{defaultValue:"rest",groupId:"protocol",values:[{label:"Rest",value:"rest"},{label:"GraphQL",value:"gql"}],mdxType:"Tabs"},(0,o.kt)(l.Z,{value:"rest",mdxType:"TabItem"},(0,o.kt)(s.Z,{pkgs:"@rest-hooks/rest",mdxType:"PkgInstall"}),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-typescript",metastring:'title="api/Todo.ts"',title:'"api/Todo.ts"'},"import { createResource, Entity } from '@rest-hooks/rest';\n\nexport class Todo extends Entity {\n  id = 0;\n  userId = 0;\n  title = '';\n  completed = false;\n\n  pk() {\n    return `${this.id}`;\n  }\n}\n\nexport const TodoResource = new createResource({\n  urlPrefix: 'https://jsonplaceholder.typicode.com',\n  path: '/todos/:id',\n  schema: Todo,\n});\n")),(0,o.kt)("details",null,(0,o.kt)("summary",null,(0,o.kt)("b",null,"6 Resource Endpoints")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-typescript"},"// GET https://jsonplaceholder.typicode.com/todos/5\nTodoResource.get({ id: 5 });\n// GET https://jsonplaceholder.typicode.com/todos\nTodoResource.getList();\n// POST https://jsonplaceholder.typicode.com/todos\nTodoResource.create({ title: 'my todo' });\n// PUT https://jsonplaceholder.typicode.com/todos/5\nTodoResource.update({ id: 5 }, { title: 'my todo' });\n// PATCH https://jsonplaceholder.typicode.com/todos/5\nTodoResource.partialUpdate({ id: 5 }, { title: 'my todo' });\n// DELETE https://jsonplaceholder.typicode.com/todos/5\nTodoResource.delete({ id: 5 });\n")))),(0,o.kt)(l.Z,{value:"gql",mdxType:"TabItem"},(0,o.kt)(s.Z,{pkgs:"@rest-hooks/graphql",mdxType:"PkgInstall"}),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-typescript",metastring:'title="api/Todo.ts"',title:'"api/Todo.ts"'},"import { GQLEndpoint, GQLEntity } from '@rest-hooks/graphql';\n\nconst gql = new GQLEndpoint('/');\n\nexport class Todo extends GQLEntity {\n  readonly title: string = '';\n  readonly completed: boolean = false;\n}\n\nexport const TodoResource = {\n  getList: gql.query(\n    `\n  query GetTodos {\n    todo {\n      id\n      title\n      completed\n    }\n  }\n`,\n    { todos: [Todo] },\n  ),\n  update: gql.mutation(\n    `mutation UpdateTodo($todo: Todo!) {\n    updateTodo(todo: $todo) {\n      id\n      title\n      completed\n    }\n  }`,\n    { updateTodo: Todo },\n  ),\n};\n")))),(0,o.kt)("p",null,"It's highly encouraged to design APIs with consistent patterns. Because of this,\nyou can extend our protocol specific helpers. After choosing your protocol, you can\nread up on the full docs for reach protocol ",(0,o.kt)("a",{parentName:"p",href:"/rest"},"REST"),", ",(0,o.kt)("a",{parentName:"p",href:"/graphql"},"GraphQL"),",\n",(0,o.kt)("a",{parentName:"p",href:"/docs/guides/img-media"},"Image/binary"),", ",(0,o.kt)("a",{parentName:"p",href:"/docs/api/Manager#middleware-data-stream"},"Websockets+SSE")))}m.isMDXComponent=!0},3905:(e,t,n)=>{n.d(t,{Zo:()=>u,kt:()=>f});var r=n(67294);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var i=r.createContext({}),c=function(e){var t=r.useContext(i),n=t;return e&&(n="function"==typeof e?e(t):l(l({},t),e)),n},u=function(e){var t=c(e.components);return r.createElement(i.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},d=r.forwardRef((function(e,t){var n=e.components,o=e.mdxType,a=e.originalType,i=e.parentName,u=s(e,["components","mdxType","originalType","parentName"]),d=c(n),f=o,m=d["".concat(i,".").concat(f)]||d[f]||p[f]||a;return n?r.createElement(m,l(l({ref:t},u),{},{components:n})):r.createElement(m,l({ref:t},u))}));function f(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var a=n.length,l=new Array(a);l[0]=d;var s={};for(var i in t)hasOwnProperty.call(t,i)&&(s[i]=t[i]);s.originalType=e,s.mdxType="string"==typeof e?e:o,l[1]=s;for(var c=2;c<a;c++)l[c]=n[c];return r.createElement.apply(null,l)}return r.createElement.apply(null,n)}d.displayName="MDXCreateElement"}}]);