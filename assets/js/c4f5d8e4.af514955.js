"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[64195],{59333:(e,t,n)=>{var o,r=n(67294);function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},l.apply(this,arguments)}t.Z=e=>{let{title:t,titleId:n,...a}=e;return r.createElement("svg",l({height:"512pt",viewBox:"-10 0 512 512",width:"512pt",xmlns:"http://www.w3.org/2000/svg",role:"img","aria-labelledby":n},a),t?r.createElement("title",{id:n},t):null,o||(o=r.createElement("path",{fill:"currentColor",d:"m483 395.172-38.734-22.375v-79.64L483 270.78c9.566-5.523 12.84-17.758 7.316-27.32-5.527-9.566-17.757-12.844-27.324-7.316l-38.77 22.394-68.84-39.746V139.25l38.833-22.422c9.566-5.52 12.844-17.754 7.32-27.316-5.523-9.567-17.754-12.848-27.32-7.32l-38.832 22.417L266.5 64.844V20c0-11.047-8.953-20-20-20s-20 8.953-20 20v44.844l-68.883 39.77-38.836-22.423c-9.562-5.523-21.797-2.246-27.316 7.32-5.524 9.567-2.246 21.798 7.316 27.321l38.836 22.422v79.543l-68.84 39.742-38.77-22.394c-9.566-5.524-21.796-2.25-27.323 7.316-5.524 9.562-2.25 21.797 7.316 27.32l38.734 22.375v79.64L10 395.173c-9.566 5.523-12.84 17.754-7.316 27.32 5.543 9.598 17.789 12.824 27.324 7.317l38.77-22.395 68.84 39.746V492c0 11.047 8.952 20 20 20 11.046 0 20-8.953 20-20v-44.844l68.882-39.77 68.883 39.774V492c0 11.047 8.957 20 20 20 11.047 0 20-8.953 20-20v-44.844l68.844-39.746 38.77 22.395c9.546 5.515 21.784 2.27 27.32-7.313 5.523-9.566 2.25-21.797-7.317-27.32zm-256.5-22.426-68.883 39.77-68.883-39.77v-79.543l68.883-39.77 68.883 39.774zm-48.883-153.953v-79.54L246.5 99.485l68.883 39.77v79.543L246.5 258.562zm226.649 153.953-68.883 39.77-68.883-39.77v-79.543l68.883-39.77 68.883 39.77zm0 0"})))}},74371:(e,t,n)=>{var o,r=n(67294);function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},l.apply(this,arguments)}t.Z=e=>{let{title:t,titleId:n,...a}=e;return r.createElement("svg",l({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 30 22.5",xmlSpace:"preserve",role:"img","aria-labelledby":n},a),t?r.createElement("title",{id:n},t):null,o||(o=r.createElement("g",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",fill:"currentColor"},r.createElement("path",{d:"M9 21c-.736 0-1.375.405-1.722 1A1.98 1.98 0 0 0 7 23c0 1.102.897 2 2 2s2-.898 2-2a1.97 1.97 0 0 0-.278-1c-.347-.595-.985-1-1.722-1zM23 21c-.736 0-1.375.405-1.722 1A1.98 1.98 0 0 0 21 23c0 1.102.897 2 2 2s2-.898 2-2a1.97 1.97 0 0 0-.278-1c-.347-.595-.985-1-1.722-1z"}),r.createElement("path",{d:"M29 19v-1l-6-1.715L16 12H5v1h6v1H0v1h12v1H2v1h5v1H5v1H1v1h5v1H5v1H2v1h4c0-.352.072-.686.184-1A2.993 2.993 0 0 1 9 20c1.305 0 2.402.838 2.816 2 .111.314.184.648.184 1h8c0-.352.072-.686.184-1A2.993 2.993 0 0 1 23 20c1.305 0 2.402.838 2.816 2 .111.314.184.648.184 1h3v-1h1v-3h-1z"}))))}},92738:(e,t,n)=>{var o,r=n(67294);function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},l.apply(this,arguments)}t.Z=e=>{let{title:t,titleId:n,...a}=e;return r.createElement("svg",l({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 189.667 189.667",style:{enableBackground:"new 0 0 189.667 189.667"},role:"img","aria-labelledby":n},a),t?r.createElement("title",{id:n},t):null,o||(o=r.createElement("path",{fill:"currentColor",d:"M184.667 160.301h-7.728V24.366a5 5 0 0 0-5-5h-24.5a5 5 0 0 0-5 5v135.935h-8.136V43.96a5 5 0 0 0-5-5h-24.5a5 5 0 0 0-5 5v116.341h-8.136V74.366a5 5 0 0 0-5-5H62.166a5 5 0 0 0-5 5v85.935H49.03v-57.935a5 5 0 0 0-5-5H19.529a5 5 0 0 0-5 5v57.935H5a5 5 0 0 0 0 10H184.666a5 5 0 0 0 .001-10z"})))}},84195:(e,t,n)=>{const o=(0,n(67294).createContext)({selectedValue:"",setSelectedValue:e=>{throw new Error("No Tab provider")},values:[]});t.Z=o},107:(e,t,n)=>{n.d(t,{Z:()=>A});var o=n(67294),r=n(87462),l=n(49544),a=n(86010),i=n(95999),s=n(52263),d=n(66412),c=n(84195),u=n(45440),m=n(75690);function p(e){let{fixtures:t}=e;return o.createElement("div",{className:u.Z.fixtureBlock},t.map((e=>o.createElement(o.Fragment,{key:e.endpoint.key(...e.args)},o.createElement("div",{className:u.Z.fixtureHeader},e.endpoint.key(...e.args)),o.createElement(h,{fixture:e})))))}var g=(0,o.memo)(p);function h(e){let{fixture:t}=e;return"function"==typeof t.response?"function":o.createElement(m.Z,{language:"json",className:u.Z.fixtureJson},JSON.stringify(t.response))}var f,v=n(60975),E=n(51523),y=n(1556);function b(){const{selectedValue:e,setSelectedValue:t,values:n}=(0,o.useContext)(c.Z);return o.createElement("div",{className:u.Z.tabs,role:"tablist","aria-orientation":"horizontal"},n.map((n=>{let{value:r,label:l}=n;return o.createElement("div",{role:"tab",tabIndex:e===r?0:-1,"aria-selected":e===r,key:r,className:(0,a.Z)(u.Z.tab,{[u.Z.selected]:e===r}),onFocus:t,onClick:t,value:r},l)})))}function Z(e){let{children:t}=e;return o.createElement(v.Z,{className:u.Z.tabControls},o.createElement("div",{className:u.Z.title},t),o.createElement(b,null))}function w(e){let{title:t,fixtures:n}=e;const{values:r}=(0,o.useContext)(c.Z),l=r.length>0;return o.createElement(o.Fragment,null,n.length?o.createElement(o.Fragment,null,o.createElement(v.Z,{className:u.Z.small},"Fixtures"),o.createElement(g,{fixtures:n})):null,l?o.createElement(Z,null,t):null)}function T(e){let{children:t,transformCode:n,groupId:i,defaultOpen:c,row:m,hidden:p,fixtures:g,includeEndpoints:h,...f}=e;const{liveCodeBlock:{playgroundPosition:v}}=(0,s.Z)().siteConfig.themeConfig,E=(0,d.p)();return o.createElement("div",{className:(0,a.Z)(u.Z.playgroundContainer,{[u.Z.row]:m,[u.Z.hidden]:p})},o.createElement(l.nu,(0,r.Z)({theme:E},f),o.createElement(k,{reverse:"top"===v,row:m,fixtures:g,includeEndpoints:h,groupId:i,defaultOpen:c},t)))}function k(e){let{reverse:t,children:n,row:r,fixtures:a,includeEndpoints:i,groupId:s,defaultOpen:d}=e;const c=(0,o.useMemo)((()=>"string"==typeof n?[{code:n.replace(/\n$/,""),collapsed:!1}]:(Array.isArray(n)?n:[n]).filter((e=>e.props.children)).map((e=>"string"==typeof e.props.children?e.props:e.props.children.props)).map((e=>{let{children:t,title:n="",collapsed:o=!1}=e;return{code:t.replace(/\n$/,""),title:n.replaceAll('"',""),collapsed:o}}))),[n]),[u,m]=(0,o.useReducer)(R,void 0,(()=>c.map((e=>{let{code:t}=e;return t})))),p=(0,o.useMemo)((()=>c.map(((e,t)=>e=>m({i:t,code:e})))),[c.length]),[g,h]=(0,o.useState)((()=>c.map((e=>{let{collapsed:t}=e;return t})))),f=u.join("\n");return o.createElement(N,{reverse:t},o.createElement("div",null,o.createElement(w,{fixtures:!r&&a}),r&&c.length>1?o.createElement(q,{titles:c.map((e=>{let{title:t}=e;return t})),closedList:g,onClick:e=>h((t=>t.map(((t,n)=>n!==e))))}):null,c.map(((e,t)=>{let{title:n}=e;return o.createElement(o.Fragment,{key:t},!r&&n?o.createElement(S,{onClick:()=>h((e=>{const n=[...e];return n[t]=!n[t],n})),closed:g[t],title:n}):null,g[t]?null:o.createElement(I,{key:t,onChange:p[t],code:u[t]}))}))),o.createElement(y.Z,{fallback:o.createElement(l.nu,{key:"preview",code:'render(() => "Loading...");',noInline:!0},o.createElement(E.Z,{key:"preview",includeEndpoints:i,groupId:s,defaultOpen:d,row:r,fixtures:a}))},o.createElement(C,{code:f,includeEndpoints:i,groupId:s,defaultOpen:d,row:r,fixtures:a})))}w.defaultProps={title:o.createElement(i.Z,{id:"theme.Playground.liveEditor",description:"The live editor label of the live codeblocks"},"Editor"),fixtures:[]},T.defaultProps={row:!1,hidden:!1};const x="object"==typeof navigator&&/bot|googlebot|crawler|spider|robot|crawling/i.test(null==(f=navigator)?void 0:f.userAgent),C=(0,o.lazy)((()=>x?Promise.resolve({default:e=>null}):Promise.all([n.e(87876),n.e(97277),n.e(26750)]).then(n.bind(n,47550))));function N(e){let{children:t,reverse:n}=e;const o=[...t];return o.reverse(),n?o:t}function R(e,t){const n=[...e];return n[t.i]=t.code,n}N.defaultProps={reverse:!1};const _=(0,o.memo)(l.uz);function I(e){let{onChange:t,code:n}=e;return o.createElement(_,{className:u.Z.playgroundEditor,onChange:t,code:n})}function S(e){let{onClick:t,closed:n,title:r}=e;return o.createElement(v.Z,{className:u.Z.small,onClick:t},o.createElement("span",{className:(0,a.Z)(u.Z.arrow,n?u.Z.right:u.Z.down)},"\u25b6"),r)}function q(e){let{titles:t,closedList:n,onClick:r}=e;const{values:l}=(0,o.useContext)(c.Z),i=l.length>0;return o.createElement(v.Z,{className:(0,a.Z)({[u.Z.small]:i,[u.Z.subtabs]:i},u.Z.noupper,u.Z.tabControls)},o.createElement("div",{className:u.Z.tabs,role:"tablist","aria-orientation":"horizontal"},t.map(((e,t)=>o.createElement("div",{role:"tab",key:t,onClick:()=>r(t),className:(0,a.Z)(u.Z.tab,{[u.Z.selected]:!n[t]})},e)))))}const O=e=>{let{children:t,groupId:n,hidden:r=!1,defaultOpen:l,row:a=!1,fixtures:i}=e;return o.createElement(T,{includeEndpoints:!Array.isArray(t),noInline:!0,groupId:n,defaultOpen:l,row:a,hidden:r,fixtures:i},"string"==typeof t||Array.isArray(t)?t:t.props.children)};O.defaultProps={defaultOpen:"n",fixtures:[]};var A=(0,o.memo)(O)},1556:(e,t,n)=>{n.d(t,{Z:()=>l});var o=n(91262),r=n(67294);function l(e){let{fallback:t,children:n}=e;return r.createElement(o.Z,{fallback:t},(()=>r.createElement(r.Suspense,{fallback:t},n)))}},60975:(e,t,n)=>{n.d(t,{Z:()=>a});var o=n(67294),r=n(86010),l=n(45440);function a(e){let{children:t,className:n,onClick:a}=e;return o.createElement("div",{className:(0,r.Z)(l.Z.playgroundHeader,n,a?l.Z.clickable:null),onClick:a},t)}},51523:(e,t,n)=>{n.d(t,{Z:()=>q});var o=n(67294),r=n(95999),l=n(27093),a=n(26127),i=n(82038),s=n(83611),d=n(39714),c=n(86010),u=n(7094),m=n(12466),p=n(45440),g=n(32041),h=n(97723),f=n(92949);function v(e){let{value:t}=e;const n="dark"===(0,f.I)().colorMode,r=(0,o.useMemo)((()=>({String:"rgb(195, 232, 141)",Date:"rgb(247, 140, 108)",Number:"rgb(247, 140, 108)",Boolean:"rgb(247, 140, 108)",Null:"rgb(255, 88, 116)",Undefined:"rgb(255, 88, 116)",Function:"rgb(247, 140, 108)",Symbol:"rgb(247, 140, 108)"})),[]),l=(0,o.useMemo)((()=>({tree:{overflow:"auto",flex:"4 1 70%",margin:0,padding:"0 0.5rem 0 0.8rem",backgroundColor:n?"var(--ifm-pre-background)":"rgb(41, 45, 62)",font:"var(--ifm-code-font-size) / var(--ifm-pre-line-height) var(--ifm-font-family-monospace) !important",color:"rgb(227, 227, 227)"},arrowContainer:(e,t)=>{let{style:n}=e;return{style:{...n,fontFamily:"arial",padding:"7px 7px 7px 0",margin:"-7px calc(0.5em - 7px) -7px 0"}}},arrowSign:{color:"rgb(130, 170, 255)"},label:{color:"rgb(130, 170, 255)"},itemRange:{color:"rgb(105, 112, 152)"},valueText:(e,t)=>{let{style:n}=e;return{style:{...n,color:r[t]}}},base0B:"rgb(191, 199, 213)"})),[n,r]);return o.createElement(h.L,{shouldExpandNode:E,data:t,valueRenderer:b,theme:l,hideRoot:!0})}function E(e,t,n){return 0===n||(!(1!==n||!["entities","results"].includes(e[0]))||(2===n&&"entities"===e[1]||(2===n&&"results"===e[1]||(3===n&&"entities"===e[2]||3===n&&"results"===e[2]))))}const y="undefined"!=typeof Intl;function b(e,t){const n=arguments.length<=2?void 0:arguments[2];return y&&"number"==typeof t&&"string"==typeof n&&isFinite(t)&&("date"===n||n.endsWith("At"))?Intl.DateTimeFormat("en-US",{hour:"numeric",minute:"numeric",second:"numeric",fractionalSecondDigits:3}).format(t):e}function Z(e){let{toggle:t,selectedValue:n}=e;const r="y"===n,l=r?p.Z.right:p.Z.left;return o.createElement(o.Fragment,null,o.createElement("div",{className:p.Z.debugToggle,onClick:t},"Store",o.createElement("span",{className:(0,c.Z)(p.Z.arrow,l,p.Z.vertical)},"\u25b6")),r?o.createElement(k,null):null)}var w=(0,o.memo)(Z);function T(){const e=(0,o.useContext)(g.sA),t=(0,o.useMemo)((()=>{const t={...e};return delete t.optimistic,t}),[e]);return o.createElement(v,{value:t})}const k=(0,o.memo)(T);var x=n(1556);function C(e){let{groupId:t,defaultOpen:n,row:r,fixtures:g}=e;const{tabGroupChoices:h,setTabGroupChoices:f}=(0,u.U)(),[v,E]=(0,o.useState)(n),{blockElementScrollPositionUntilNextRender:y}=(0,m.o5)();if(null!=t){const e=h[t];null!=e&&e!==v&&E(e)}const b=(0,o.useCallback)((e=>{y(e.currentTarget),E((e=>"y"===e?"n":"y")),f(t,"y"===v?"n":"y")}),[y,t,v,f]),Z=(0,o.useMemo)((()=>[new s.Z,new l.Z(a.Z)]),[]),T=!("n"===v||!r);return o.createElement(i.nq,{managers:Z},o.createElement(d.Z,{fixtures:g,silenceMissing:!0},o.createElement("div",{className:(0,c.Z)(p.Z.playgroundPreview,{[p.Z.hidden]:T})},o.createElement(x.Z,{fallback:o.createElement(R,null)},o.createElement(_,null))),o.createElement(w,{selectedValue:v,toggle:b})))}var N=(0,o.memo)(C);function R(){return o.createElement("div",null,"Loading...")}const _=(0,o.lazy)((()=>Promise.all([n.e(87876),n.e(97277),n.e(26750)]).then(n.bind(n,64511))));var I=n(60975);function S(e){let{groupId:t,defaultOpen:n,row:l,fixtures:a}=e;return o.createElement("div",{style:{overflow:"hidden",display:"flex",flexDirection:"column"}},o.createElement(I.Z,null,o.createElement(r.Z,{id:"theme.Playground.result",description:"The result label of the live codeblocks"},"Live Preview")),o.createElement("div",{className:p.Z.playgroundResult},o.createElement(N,{groupId:t,defaultOpen:n,row:l,fixtures:a})))}var q=(0,o.memo)(S)},74193:(e,t,n)=>{n.d(t,{o:()=>a,q:()=>d});var o=n(69625),r=n(61899);const l=Date.now();let a=[{userId:1,id:1,title:"delectus aut autem",completed:!1},{userId:1,id:2,title:"quis ut nam facilis et officia qui",completed:!1},{userId:1,id:3,title:"fugiat veniam minus",completed:!1},{userId:1,id:4,title:"et porro tempora",completed:!0},{userId:1,id:5,title:"laboriosam mollitia et enim quasi adipisci quia provident illum",completed:!1}].map((e=>({...e,updatedAt:l}))),i=a.reduce(((e,t)=>Math.max(e.id,t)),0),s=0;const d=[o.r.get("/api/todos",((e,t,n)=>t(n.status(200),n.delay(150),n.json(a)))),o.r.get("/api/todos/:id",((e,t,n)=>{const{id:o}=e.params,r=a.find((e=>e.id==o));return r?t(n.status(200),n.delay(150),n.json(r)):t(n.status(404),n.delay(150))})),o.r.patch("/api/todos/:id",((e,t,n)=>{const{id:o}=e.params,r=a.findIndex((e=>e.id==o));return r<0?t(n.status(404),n.delay(150)):(a[r]={...a[r],updatedAt:Date.now(),...e.body},t(n.status(200),n.delay(150),n.json(a[r])))})),o.r.post("/api/todos",((e,t,n)=>(a.push({id:i++,updatedAt:Date.now(),...e.body}),t(n.status(201),n.delay(150),n.json(a[a.length-1]))))),o.r.delete("/api/todos/:id",((e,t,n)=>{const{id:o}=e.params,r=a.findIndex((e=>e.id==o));return r<0?t(n.status(204),n.delay(150)):(a=a.slice(0,r).concat(a.slice(r+1)),t(n.status(200),n.delay(150),n.json("")))})),o.r.get("/api/currentTime/:id",((e,t,n)=>{const{id:o}=e.params;return t(n.status(200),n.delay(150),n.json({id:o,updatedAt:(new Date).toISOString()}))})),r.g.query("GetTodos",((e,t,n)=>t(n.delay(150),n.data({todos:a})))),r.g.query("GetTodo",((e,t,n)=>{const{id:o}=e.variables;return t(n.delay(150),n.data({todo:a.find((e=>e.id===o))}))})),r.g.mutation("UpdateTodo",((e,t,n)=>{const{todo:o}=e.variables,r=o.id,l=a.find((e=>e.id===r)),i={...l,...o};return t(n.data({updateTodo:i}))})),o.r.get("/api/count",((e,t,n)=>t(n.status(200),n.delay(150),n.json({count:s,updatedAt:l})))),o.r.post("/api/count/increment",((e,t,n)=>t(n.status(200),n.delay(500+4500*Math.random()),n.json({count:++s,updatedAt:e.body.updatedAt}))))]},62192:(e,t,n)=>{n.r(t),n.d(t,{default:()=>D});var o=n(67294),r=n(86010),l=n(57753),a=n(39960),i=n(52263),s=n(50941),d=n(44996),c="heroBanner_qdFl",u="logoWrapper_lGCO",m="buttons_AeoN",p="GitHubButtonWrapper__QmI",g="GitHubButton_HPQt",h=n(87462),f="features_xdhU",v="featureSvg__8YW";const E=[{description:o.createElement(o.Fragment,null,"Strong ",o.createElement("b",null,"inferred")," types; single source of truth that is referentially stable ensures consistency; ",o.createElement("b",null,"asynchronous invariants")," ","make it easy to avoid race conditions"),light:"/img/typescript.svg",dark:"/img/typescript.dark.svg",title:"Data Integrity"},{description:o.createElement(o.Fragment,null,"Normalized cache means data is often ",o.createElement("b",null,"ready before")," it is even needed. Automatic ",o.createElement("b",null,"request deduplication")," means less data to send over the network."),Svg:n(74371).Z,title:"Performance"},{description:o.createElement(o.Fragment,null,o.createElement("b",null,"Declare")," what you need ",o.createElement("b",null,"where")," you need it. ",o.createElement("b",null,"Share")," data definitions ",o.createElement("b",null,"across platforms"),", components,"," ",o.createElement(a.Z,{to:"/docs#protocol-specific-patterns"},"protocols"),", and behaviors."),Svg:n(59333).Z,title:"Composition over configuration"},{description:o.createElement(o.Fragment,null,"Get started fast with ",o.createElement("b",null,"one line")," ",o.createElement(a.Z,{to:"/docs#endpoint"},"data definition")," and one line"," ",o.createElement(a.Z,{to:"/docs#co-locate-data-dependencies"},"data binding"),". Then"," ",o.createElement("b",null,"add")," TypeScript, normalized cache with"," ",o.createElement(a.Z,{to:"/docs#entities"},"Schemas"),","," ",o.createElement(a.Z,{to:"/docs#optimistic-updates"},"optimistic updates")," and more."),Svg:n(92738).Z,title:"Incremental Adoption"}];function y(e){let{Svg:t,light:n,dark:l,title:a,description:i}=e;const c={light:(0,d.Z)(n),dark:(0,d.Z)(l)};return o.createElement("div",{className:(0,r.Z)("col col--3")},o.createElement("div",{className:"text--center"},t?o.createElement(t,{className:v,alt:a}):o.createElement(s.Z,{className:v,alt:a,sources:c})),o.createElement("div",{className:"text--center padding-horiz--md"},o.createElement("h3",null,a),o.createElement("p",null,i)))}function b(){return o.createElement("section",{className:f},o.createElement("div",{className:"container"},o.createElement("div",{className:"row"},E.map(((e,t)=>o.createElement(y,(0,h.Z)({key:t},e)))))))}var Z=n(73727),w=n(22773),T=n(74193),k=n(7094),x=n(12466),C=n(84195);function N(e){let{defaultValue:t,groupId:n=null,values:r,playgroundRef:l,children:a}=e;const{tabGroupChoices:i,setTabGroupChoices:s}=(0,k.U)(),[d,c]=(0,o.useState)(t),{blockElementScrollPositionUntilNextRender:u}=(0,x.o5)();if(null!=n){const e=i[n];null!=e&&e!==d&&r.find((t=>{let{value:n}=t;return n===e}))&&c(e)}const m={selectedValue:d,values:r,setSelectedValue:e=>{const t=e.currentTarget.getAttribute("value");t!==d&&(u(l.current),c(t),null!=n&&s(n,t))}};return o.createElement(C.Z.Provider,{value:m},a)}var R=(0,o.memo)(N),_=n(107);const I=(0,o.memo)((0,o.forwardRef)(((e,t)=>{const{selectedValue:n,values:r}=(0,o.useContext)(C.Z);return o.createElement("div",{ref:t},r.map((e=>{let{value:t,endpointCode:r,code:l,fixtures:a}=e;return o.createElement(_.Z,{groupId:"homepage-demo",row:!0,key:t,hidden:t!==n,fixtures:a},o.createElement("code",{title:"Endpoint",collapsed:!0},r),o.createElement("code",{title:"React"},l))})))})));function S(e){let{codes:t,defaultValue:n}=e;const r=(0,o.useRef)();return o.createElement(R,{defaultValue:n,groupId:"protocol",values:t,playgroundRef:r},o.createElement(I,{ref:r}))}var q="demoList_Xsm7";const O=[{label:"Fetch",value:"fetch",endpointCode:"const getTodo = new RestEndpoint({\n  urlPrefix: 'https://jsonplaceholder.typicode.com',\n  path: '/todos/:id',\n});",code:"function TodoDetail({ id }: { id: number }) {\n  const todo = useSuspense(getTodo, { id });\n  return <div>{todo.title}</div>;\n}\nrender(<TodoDetail id={1} />);\n"},{label:"REST",value:"rest",endpointCode:"class Todo extends Entity {\n  id = 0;\n  userId = 0;\n  title = '';\n  completed = false;\n  pk() { return this.id }\n}\nconst TodoResource = createResource({\n  urlPrefix: 'https://jsonplaceholder.typicode.com',\n  path: '/todos/:id',\n  schema: Todo,\n})",code:"function TodoDetail({ id }: { id: number }) {\n  const todo = useSuspense(TodoResource.get, { id });\n  return <div>{todo.title}</div>;\n}\nrender(<TodoDetail id={1} />);\n"},{label:"GraphQL",value:"graphql",fixtures:[{endpoint:new w.Z("/").query("\n  query GetTodo($id: ID!) {\n    todo(id: $id) {\n      id\n      title\n      completed\n    }\n  }\n"),args:[{id:1}],response:{todo:T.o.find((e=>1===e.id))},delay:150}],endpointCode:"const gql = new GQLEndpoint('/');\nconst getTodo = gql.query(`\n  query GetTodo($id: ID!) {\n    todo(id: $id) {\n      id\n      title\n      completed\n    }\n  }\n`);",code:"function TodoDetail({ id }: { id: number }) {\n  const { todo } = useSuspense(getTodo, { id });\n  return <div>{todo.title}</div>;\n}\nrender(<TodoDetail id={1} />);\n"}],A=[{label:"REST",value:"rest",endpointCode:"class Todo extends Entity {\n  id = 0;\n  userId = 0;\n  title = '';\n  completed = false;\n  pk() { return this.id }\n}\nconst BaseTodoResource = createResource({\n  urlPrefix: 'https://jsonplaceholder.typicode.com',\n  path: '/todos/:id',\n  schema: Todo,\n});\nconst TodoResource = {\n  ...BaseTodoResource,\n  partialUpdate: BaseTodoResource.partialUpdate.extend({\n    getOptimisticResponse(snap, params, body) {\n      return {\n        id: params.id,\n        ...body,\n      };\n    },\n  }),\n};",code:"function TodoDetail({ id }: { id: number }) {\n  const todo = useSuspense(TodoResource.get, { id });\n  const controller = useController();\n  const updateWith = title => () =>\n    controller.fetch(\n      TodoResource.partialUpdate,\n      { id },\n      { title }\n    );\n  return (\n    <div>\n      <div>{todo.title}</div>\n      <button onClick={updateWith('\ud83e\udd51')}>\ud83e\udd51</button>\n      <button onClick={updateWith('\ud83d\udc96')}>\ud83d\udc96</button>\n    </div>\n  );\n}\nrender(<TodoDetail id={1} />);\n"},{label:"GraphQL",value:"graphql",fixtures:[{endpoint:new w.Z("/").query("\n  query GetTodo($id: ID!) {\n    todo(id: $id) {\n      id\n      title\n      completed\n    }\n  }\n"),args:[{id:1}],response:{todo:T.o.find((e=>1===e.id))},delay:150}],endpointCode:"const gql = new GQLEndpoint('/');\n\nclass Todo extends GQLEntity {\n  readonly title: string = '';\n  readonly completed: boolean = false;\n}\n\nconst getTodo = gql.query(`\n  query GetTodo($id: ID!) {\n    todo(id: $id) {\n      id\n      title\n      completed\n    }\n  }\n`, { todo: Todo });\n\nconst updateTodo = gql.mutation(\n  `mutation UpdateTodo($todo: Todo!) {\n    updateTodo(todo: $todo) {\n      id\n      title\n      completed\n    }\n  }`,\n  { updateTodo: Todo },\n);",code:"function TodoDetail({ id }: { id: number }) {\n  const { todo } = useSuspense(getTodo, { id });\n  const controller = useController();\n  const updateWith = title => () =>\n    controller.fetch(\n      updateTodo,\n      { todo: { id, title } }\n    );\n  return (\n    <div>\n      <div>{todo.title}</div>\n      <button onClick={updateWith('\ud83e\udd51')}>\ud83e\udd51</button>\n      <button onClick={updateWith('\ud83d\udc96')}>\ud83d\udc96</button>\n    </div>\n  );\n}\nrender(<TodoDetail id={1} />);\n  "}],H=[{label:"REST",value:"rest",endpointCode:"class Todo extends Entity {\n  id = 0;\n  userId = 0;\n  title = '';\n  completed = false;\n  pk() { return this.id }\n}\nconst BaseTodoResource = createResource({\n  urlPrefix: 'https://jsonplaceholder.typicode.com',\n  path: '/todos/:id',\n  schema: Todo,\n});\nconst TodoResource = {\n  ...BaseTodoResource,\n  getList: BaseTodoResource.getList.extend({\n    process(todos) {\n      return todos.slice(0, 7);\n    },\n  }),\n  partialUpdate: BaseTodoResource.partialUpdate.extend({\n    getOptimisticResponse(snap, params, body) {\n      return {\n        id: params.id,\n        ...body,\n      };\n    },\n  }),\n  delete: BaseTodoResource.delete.extend({\n    getOptimisticResponse(snap, params) {\n      return params;\n    },\n  }),\n};",code:"function TodoItem({ todo }: { todo: Todo }) {\n  const controller = useController();\n  return (\n    <div>\n      <label>\n        <input\n          type=\"checkbox\"\n          checked={todo.completed}\n          onChange={e =>\n            controller.fetch(\n              TodoResource.partialUpdate,\n              { id: todo.id },\n              { completed: e.currentTarget.checked },\n            )\n          }\n        />\n        {todo.completed ? (\n          <strike>{todo.title}</strike>\n        ) : (\n          todo.title\n        )}\n      </label>\n      <span\n        style={{ cursor: 'pointer' }}\n        onClick={() =>\n          controller.fetch(TodoResource.delete, {\n            id: todo.id,\n          })\n        }\n      >\n        \u274c\n      </span>\n    </div>\n  );\n}\n\nfunction TodoList() {\n  const todos = useSuspense(TodoResource.getList);\n  return (\n    <div>\n      {todos.map(todo => (\n        <TodoItem key={todo.pk()} todo={todo} />\n      ))}\n    </div>\n  );\n}\nrender(<TodoList />);\n"},{label:"GraphQL",value:"graphql",fixtures:[{endpoint:new w.Z("/").query("\n  query GetTodos {\n    todo {\n      id\n      title\n      completed\n    }\n  }\n"),args:[{}],response:{todos:T.o},delay:150}],endpointCode:"const gql = new GQLEndpoint('/');\n\nclass Todo extends GQLEntity {\n  readonly title: string = '';\n  readonly completed: boolean = false;\n}\n\nconst todoList = gql.query(`\n  query GetTodos {\n    todo {\n      id\n      title\n      completed\n    }\n  }\n`, { todos: [Todo] });\n\nconst updateTodo = gql.mutation(\n  `mutation UpdateTodo($todo: Todo!) {\n    updateTodo(todo: $todo) {\n      id\n      title\n      completed\n    }\n  }`,\n  { updateTodo: Todo },\n);",code:'function TodoItem({ todo }: { todo: Todo }) {\n  const controller = useController();\n  return (\n    <div>\n      <label>\n        <input\n          type="checkbox"\n          checked={todo.completed}\n          onChange={e =>\n            controller.fetch(updateTodo, {\n              todo: { id: todo.id, completed: e.currentTarget.checked },\n            })\n          }\n        />\n        {todo.completed ? <strike>{todo.title}</strike> : todo.title}\n      </label>\n    </div>\n  );\n}\n\nfunction TodoList() {\n  const { todos } = useSuspense(todoList, {});\n  return (\n    <div>\n      {todos.map(todo => (\n        <TodoItem key={todo.pk()} todo={todo} />\n      ))}\n    </div>\n  );\n}\nrender(<TodoList />);\n'}];var L=e=>o.createElement("div",{className:"container"},o.createElement("div",{className:(0,r.Z)("row",q)},o.createElement("div",{className:"col col--3"},o.createElement("h2",null,"A simple data fetch"),o.createElement("div",null,o.createElement("p",null,"Add a single ",o.createElement(Z.rU,{to:"/docs/api/useSuspense"},"useSuspense()")," ","call"," ",o.createElement(Z.rU,{to:"/docs/getting-started/data-dependency"},"where you need its data"),"."),o.createElement("p",null,"Rest Hooks automatically optimizes performance by caching the results, deduplicating fetches, efficient component render bindings and more."))),o.createElement("div",{className:"col col--9"},o.createElement(S,{codes:O,defaultValue:"rest"}))),o.createElement("div",{className:(0,r.Z)("row",q)},o.createElement("div",{className:"col col--3"},o.createElement("h2",null,"Stateful mutations"),o.createElement("div",null,o.createElement("p",null,"Use ",o.createElement(Z.rU,{to:"/docs/api/Controller#fetch"},"Controller.fetch()")," ","to update the store."),o.createElement("p",null,"Rest Hooks ensures data consistency and integrity globally. Every piece of data maintains referential stability unless it changes. This ensures the most optimized render performance, as well as predictable equality checks."))),o.createElement("div",{className:"col col--9"},o.createElement(S,{codes:A,defaultValue:"rest"}))),o.createElement("div",{className:(0,r.Z)("row",q)},o.createElement("div",{className:"col col--3"},o.createElement("h2",null,"An application"),o.createElement("div",null,o.createElement("p",null,"Data can be consumed and controlled in many contexts, speeding up development."),o.createElement("p",null,"Rest Hooks uses"," ",o.createElement(Z.rU,{to:"/docs/getting-started/entity"},"data normalization")," to maintain consistency no matter how and where the data is consumed."),o.createElement("p",null,"Rest easy with the help of"," ",o.createElement(Z.rU,{to:"/docs/guides/debugging"},"debugging"),","," ",o.createElement(Z.rU,{to:"/docs/guides/unit-testing-hooks"},"unit testing"),", and"," ",o.createElement(Z.rU,{to:"/docs/guides/storybook"},"storybook integration"),"."))),o.createElement("div",{className:"col col--9"},o.createElement(S,{codes:H,defaultValue:"rest"}))));const P=()=>{const e={light:(0,d.Z)("img/rest_hooks_logo_and_text_subtitle--light.svg"),dark:(0,d.Z)("img/rest_hooks_logo_and_text_subtitle--dark.svg")};return o.createElement(o.Fragment,null,o.createElement("div",{className:u},o.createElement(s.Z,{sources:e,alt:"Rest Hooks - The Object Protocol Mapper for React",height:90,width:416})))};function G(){const{siteConfig:e}=(0,i.Z)();return o.createElement("header",{className:(0,r.Z)("hero",c)},o.createElement("div",{className:"container"},o.createElement(P,null),o.createElement("div",{className:m},o.createElement(a.Z,{className:"button button--primary ",to:"/docs/getting-started/installation"},"Get Started"),o.createElement("span",{className:p},o.createElement("iframe",{className:g,src:"https://ghbtns.com/github-btn.html?user=coinbase&repo=rest-hooks&type=star&count=true&size=large",width:160,height:30,title:"GitHub Stars"})))))}function D(){const{siteConfig:e}=(0,i.Z)();return o.createElement(l.Z,{title:"Declarative Async State Management for React",description:"Making dynamic sites performant, scalable, simple to build with any API design. ...all typed ...fast ...and consistent"},o.createElement(G,null),o.createElement("main",null,o.createElement(L,null),o.createElement(b,null)))}},56922:(e,t,n)=>{var o=n(67294),r=n(72887);const l={React:o,...o,...r};t.Z=l},45440:(e,t)=>{t.Z={playgroundContainer:"playgroundContainer_sLUA",row:"row_YGZs",hidden:"hidden_Hh8i",playgroundHeader:"playgroundHeader_Zx4K",small:"small_xksL",clickable:"clickable_YHiX",noupper:"noupper_WDCF",subtabs:"subtabs_XtJb",playgroundEditor:"playgroundEditor_lYwu",closed:"closed_QJMa",arrow:"arrow_tivA",vertical:"vertical_OMeC",right:"right_vs_C",left:"left_iDcB",up:"up_H4F7",down:"down_oRky",playgroundPreview:"playgroundPreview_rk9R",playgroundError:"playgroundError_sRnA",playgroundResult:"playgroundResult_tefG",debugToggle:"debugToggle_zlro",tabControls:"tabControls_trxh",title:"title_poUY",tabs:"tabs_m54V",tab:"tab_bTGw",selected:"selected_QXZk",fixtureBlock:"fixtureBlock_mpRK",fixtureHeader:"fixtureHeader_KYel",fixtureJson:"fixtureJson_HnbR"}},22773:(e,t,n)=>{n.d(t,{Z:()=>l});var o=n(4391),r=n(91085);class l extends o.Z{constructor(e,t){return super((async function(e){return this.fetchResponse(this.url,this.getRequestInit(e)).then((t=>this.process(t,e)))}),e?{...t,url:e}:t),this}key(e){return`${this.getQuery(e)} ${JSON.stringify(e)}`}getQuery(e){throw new Error("You must include a query")}getHeaders(e){return e}getRequestInit(e){var t;return{body:JSON.stringify({query:this.getQuery(e),variables:e}),method:"POST",signal:null!=(t=this.signal)?t:null,headers:this.getHeaders({"Content-Type":"application/json"})}}fetchResponse(e,t){return fetch(e,t).then((async e=>{const t=await e.json();if(t.errors)throw new r.Z(t.errors);if(!e.ok)throw new r.Z([t]);return t.data})).catch((e=>{throw e instanceof TypeError&&(e.status=400),e}))}process(e,t){return e}errorPolicy(e){return e.status>=500?"soft":void 0}query(e,t){const n={schema:t,getQuery:"function"==typeof e?e:()=>e};return this.extend(n)}mutation(e,t){const n={sideEffect:!0,schema:t,getQuery:"function"==typeof e?e:()=>e};return this.extend(n)}}},91085:(e,t,n)=>{n.d(t,{Z:()=>o});class o extends Error{constructor(e){super(e[0].message),this.name="NetworkError",this.status=400,this.errors=e}}}}]);