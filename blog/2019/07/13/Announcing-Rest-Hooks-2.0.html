<!doctype html>
<html lang="en" dir="ltr" class="blog-wrapper blog-post-page plugin-blog plugin-id-default">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.3.0">
<title data-rh="true">Announcing Rest Hooks 2.0 | Rest Hooks</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://resthooks.io/img/rest_hooks_logo.png"><meta data-rh="true" name="twitter:image" content="https://resthooks.io/img/rest_hooks_logo.png"><meta data-rh="true" property="og:url" content="https://resthooks.io/blog/2019/07/13/Announcing-Rest-Hooks-2.0"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docusaurus_tag" content="default"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docsearch:docusaurus_tag" content="default"><meta data-rh="true" property="og:title" content="Announcing Rest Hooks 2.0 | Rest Hooks"><meta data-rh="true" name="description" content="We use SemVer for Rest Hooks - so 2.0 represents some breaking changes. To minimize disruption"><meta data-rh="true" property="og:description" content="We use SemVer for Rest Hooks - so 2.0 represents some breaking changes. To minimize disruption"><meta data-rh="true" property="og:type" content="article"><meta data-rh="true" property="article:published_time" content="2019-07-13T00:00:00.000Z"><meta data-rh="true" property="article:author" content="https://github.com/ntucker"><meta data-rh="true" property="article:tag" content="releases,rest-hooks"><meta data-rh="true" name="docsearch:pagerank" content="-100"><link data-rh="true" rel="icon" href="/img/favicon/favicon.ico"><link data-rh="true" rel="canonical" href="https://resthooks.io/blog/2019/07/13/Announcing-Rest-Hooks-2.0"><link data-rh="true" rel="alternate" href="https://resthooks.io/blog/2019/07/13/Announcing-Rest-Hooks-2.0" hreflang="en"><link data-rh="true" rel="alternate" href="https://resthooks.io/blog/2019/07/13/Announcing-Rest-Hooks-2.0" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://09LY5NUEP1-dsn.algolia.net" crossorigin="anonymous"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Rest Hooks RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Rest Hooks Atom Feed">

<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-138752992-1"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","UA-138752992-1",{})</script>


<link rel="search" type="application/opensearchdescription+xml" title="Rest Hooks" href="/opensearch.xml">







<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link rel="preconnect" href="https://fonts.googleapis.com" crossorigin>
<link rel="preconnect" href="https://cdn.jsdelivr.net" crossorigin>
<link rel="preload" href="https://fonts.googleapis.com/css2?family=Rubik:wght@300..900&amp;family=Rubik:ital,wght@1,300..900&amp;family=Roboto+Mono:wght@100..700&amp;family=Roboto+Mono:ital,wght@1,100..700&amp;display=swap" as="style" crossorigin>
<link rel="preload" href="https://fonts.gstatic.com/s/rubik/v21/iJWKBXyIfDnIV7nBrXw.woff2" as="font" type="font/woff2" crossorigin>
<link rel="preload" href="https://fonts.gstatic.com/s/robotomono/v22/L0x5DF4xlVMF-BfR8bXMIjhLq38.woff2" as="font" type="font/woff2" crossorigin>
<link rel="preload" href="https://fonts.gstatic.com/s/rubik/v21/iJWEBXyIfDnIV7nEnX661A.woff2" as="font" type="font/woff2" crossorigin>
<link rel="preload" href="https://fonts.gstatic.com/s/robotomono/v22/L0x7DF4xlVMF-BfR8bXMIjhOm32WWg.woff2" as="font" type="font/woff2" crossorigin>
<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Rubik:wght@300..900&amp;family=Rubik:ital,wght@1,300..900&amp;family=Roboto+Mono:wght@100..700&amp;family=Roboto+Mono:ital,wght@1,100..700&amp;display=swap" crossorigin media="all"><link rel="stylesheet" href="/assets/css/styles.56b04f0a.css">
<link rel="preload" href="/assets/js/runtime~main.e6b1b423.js" as="script">
<link rel="preload" href="/assets/js/main.fc4a5124.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();null!==e?t(e):window.matchMedia("(prefers-color-scheme: dark)").matches?t("dark"):(window.matchMedia("(prefers-color-scheme: light)").matches,t("light"))}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><div class="announcementBar_mb4j" role="banner"><div class="announcementBarPlaceholder_vyr4"></div><div class="content_knG7 announcementBarContent_xLdY">Give it a ⭐️ on <a target="_blank" rel="noopener noreferrer" href="https://github.com/coinbase/rest-hooks">GitHub</a>. Get support on <a target="_blank" rel="noopener noreferrer" href="https://discord.gg/35nb8Mz">Discord</a>. File <a target="_blank" rel="noopener noreferrer" href="https://github.com/coinbase/rest-hooks/issues/new/choose">bug report</a>.</div><button type="button" aria-label="Close" class="clean-btn close closeButton_CVFx announcementBarClose_gvF7"><svg viewBox="0 0 15 15" width="14" height="14"><g stroke="currentColor" stroke-width="3.1"><path d="M.75.75l13.5 13.5M14.25.75L.75 14.25"></path></g></svg></button></div><nav aria-label="Main" class="navbar navbar--fixed-top navbarHideable_m1mJ"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/rest_hooks_logo.svg" alt="Rest Hooks Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/rest_hooks_logo.svg" alt="Rest Hooks Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">Rest Hooks</b></a><a class="navbar__item navbar__link" href="/docs">Docs</a><a class="navbar__item navbar__link" href="/docs/api/useSuspense">Hooks</a><a class="navbar__item navbar__link" href="/rest">REST</a><a class="navbar__item navbar__link" href="/graphql">GraphQL</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/blog">News</a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/docs">7.x</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/upgrade/upgrading-to-7">Upgrade Guide</a></li><li><a class="dropdown__link" href="/docs">7.x</a></li><li><a class="dropdown__link" href="/docs/7.0">7.0</a></li><li><a class="dropdown__link" href="/docs/6.6">6.6</a></li><li><a class="dropdown__link" href="/docs/6.5">6.5</a></li><li><a class="dropdown__link" href="/docs/6.4">6.4</a></li><li><a class="dropdown__link" href="/docs/6.3">6.3</a></li><li><a class="dropdown__link" href="/docs/5.0">5.0</a></li><li><a class="dropdown__link" href="/docs/4.5">4.5</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/rest">6.x</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/rest">6.x</a></li><li><a class="dropdown__link" href="/rest/6.0">6.0</a></li><li><a class="dropdown__link" href="/rest/5.2">5.2</a></li><li><a class="dropdown__link" href="/rest/5.1">5.1</a></li><li><a class="dropdown__link" href="/rest/5.0">5.0</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/graphql">0.3</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/graphql">0.3</a></li><li><a class="dropdown__link" href="/graphql/0.2">0.2</a></li></ul></div><a class="navbar__item navbar__link header-demos-link" aria-label="GitHub repository" href="/demos"></a><a href="https://www.github.com/coinbase/rest-hooks" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub repository"></a><a href="https://discord.gg/9aTc42GXWR" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-discord-link" aria-label="Discord chat support"></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="container margin-vert--lg"><div class="row"><aside class="col col--3"><nav class="sidebar_re4s thin-scrollbar" aria-label="Blog recent posts navigation"><div class="sidebarItemTitle_pO2u margin-bottom--md">Recent posts</div><ul class="sidebarItemList_Yudw clean-list"><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2022/12/19/rest-hooks-7-react-native-web-nextjs">v7 - React Native, Web and SSR upgrades and more</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2022/11/09/Query-getState-SSR-partial-hydration">Query, getState() and partial hydration SSR improvements</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2022/11/07/Lifecycle-controlflow-diagrams-mermaid">Lifecycle controlflow diagrams using Mermaid</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2022/10/23/Announcing-Rest-6">Rest v6 - TypeScript HTTP endpoints from url path templates</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2022/08/03/Adding-validation-helpers-for-required-fields">Adding validation helpers for required field checks</a></li></ul></nav></aside><main class="col col--7" itemscope="" itemtype="http://schema.org/Blog"><article itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h1 class="title_f1Hy" itemprop="headline">Announcing Rest Hooks 2.0</h1><div class="container_mt6G margin-vert--md"><time datetime="2019-07-13T00:00:00.000Z" itemprop="datePublished">July 13, 2019</time> · <!-- -->6 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/ntucker" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://github.com/ntucker.png" alt="Nathaniel Tucker"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/ntucker" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Nathaniel Tucker</span></a></div><small class="avatar__subtitle" itemprop="description">Creator of Rest Hooks</small></div></div></div></div></header><div id="post-content" class="markdown" itemprop="articleBody"><p>We use <a href="https://semver.org/" target="_blank" rel="noopener noreferrer">SemVer</a> for Rest Hooks - so 2.0 represents some breaking changes. To minimize disruption
we have been carefully considering these changes and awaiting community feedback to be confident
these are the right changes to make.</p><p>While some of these changes are simple renames to make the library more intuitive - some represent
important progress to empowering the next chapter of Rest Hooks.</p><p>See <a href="https://github.com/coinbase/rest-hooks/releases/tag/2.0.0" target="_blank" rel="noopener noreferrer">https://github.com/coinbase/rest-hooks/releases/tag/2.0.0</a> for a complete list of changes</p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="breaking-changes">Breaking changes<a href="#breaking-changes" class="hash-link" aria-label="Direct link to Breaking changes" title="Direct link to Breaking changes">​</a></h2><p>Rest Hooks 2.0 mostly represents breaking changes. While some of these provide new functionality
or capabilities, purely additive features will come in subsequent releases.</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="renaming">Renaming<a href="#renaming" class="hash-link" aria-label="Direct link to Renaming" title="Direct link to Renaming">​</a></h3><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="restprovider---cacheprovider">RestProvider -&gt; CacheProvider<a href="#restprovider---cacheprovider" class="hash-link" aria-label="Direct link to RestProvider -&gt; CacheProvider" title="Direct link to RestProvider -&gt; CacheProvider">​</a></h4><p>The core provider has been renamed appropriately to represent what it actually does - manage
the cache. Since Rest Hooks is <strong>protocol agnostic</strong> by design it was not only misleading as name
but also didn&#x27;t sufficiently express what the provider is actually <em>providing</em>.</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="requestshape---fetchshape">RequestShape -&gt; FetchShape<a href="#requestshape---fetchshape" class="hash-link" aria-label="Direct link to RequestShape -&gt; FetchShape" title="Direct link to RequestShape -&gt; FetchShape">​</a></h4><p><a href="/docs/2.2/api/FetchShape">FetchShape</a> is the core interface that enables Rest Hooks to be both
<strong>declarative</strong>, <strong>performant</strong> and <strong>protocol agnostic</strong>. The previous <code>Request</code> terminology
only represented one-side of the entire request/response pattern in fetch. This did not comprehensively
encapsulate the entirety of what it provided - thus we changed the name to <code>FetchShape</code> to capture
the full cycle of behavior - from request all the way to handling the response that it provides.</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="resource-fetchshape-generators">Resource <code>FetchShape</code> generators<a href="#resource-fetchshape-generators" class="hash-link" aria-label="Direct link to resource-fetchshape-generators" title="Direct link to resource-fetchshape-generators">​</a></h4><p>Along the same lines, the provided static methods in <a href="/docs/2.2/api/resource">Resource</a> that return <code>FetchShapes</code>
need to accurately describe their return value. As such, the suffix has changed from <code>Request</code> to <code>Shape</code>. Also,
the request for getting a singular entity - typically using a lookup id - has had its prefix changed
from <code>single</code> to <code>detail</code> to better reflect common <code>REST</code> terminology.</p><ul><li>singleRequest() -&gt; detailShape()</li><li>listRequest() -&gt; listShape()</li><li>createRequest() -&gt; createShape()</li><li>updateRequest() -&gt; updateShape()</li><li>partialUpdateRequest() -&gt; partialUpdateShape()</li><li>deleteRequest() -&gt; deleteShape()</li></ul><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="schema-types">Schema types<a href="#schema-types" class="hash-link" aria-label="Direct link to Schema types" title="Direct link to Schema types">​</a></h4><p>Previously there were two generic used to distinguish between <code>Schema</code>s that return a single item and many to
mark the expected return values of <code>detailShape()</code> and <code>listShape()</code>. Their names have been changed
to be consistent with the new naming. <code>SchemaBase</code> is now <code>SchemaDetail</code> and <code>SchemaArray</code> is now
<code>SchemaList</code>.</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="extensibility">Extensibility<a href="#extensibility" class="hash-link" aria-label="Direct link to Extensibility" title="Direct link to Extensibility">​</a></h3><p>A core tenant of Rest Hooks&#x27; design is to be flexible to match diverse use cases. Along those
lines, some key improvements were made to enable easier extensibility and customization that will
empower the next wave of applications using Rest Hooks.</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="cacheprovider-and-managers">CacheProvider and Managers<a href="#cacheprovider-and-managers" class="hash-link" aria-label="Direct link to CacheProvider and Managers" title="Direct link to CacheProvider and Managers">​</a></h4><p>The <a href="/docs/2.2/api/Manager">Manager</a> abstraction has existed since the beginning of Rest Hooks. The first Manager - <a href="/docs/2.2/api/NetworkManager">NetworkManager</a>
orchestrated the complex world of fetching. It provided performance optimizations like fetch deduplication
while providing Suspense promise resolution free of race conditions. This enabled the consistent bug-free behavior
of Rest Hooks while maintaining its minimal bundle footprint. Later the <a href="/docs/2.2/api/SubscriptionManager">SubscriptionManager</a> was added
to enable keeping resources fresh.</p><p>However, it quickly became clear that this was only the beginning. To enable the next generation of
Managers, <a href="/docs/2.2/api/CacheProvider">CacheProvider</a> now takes an <a href="/docs/2.2/api/CacheProvider#managers-manager">array of managers</a>
as a prop. As an undocumented behavior, the NetworkManager and SubscriptionManager
could previously be passed as arguments to customize their configuration. Instead
you can now override their defaults by sending both managers. Or build your own Managers
to be used as well.</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="protocol-agnostic">Protocol Agnostic<a href="#protocol-agnostic" class="hash-link" aria-label="Direct link to Protocol Agnostic" title="Direct link to Protocol Agnostic">​</a></h4><p>Initially, FetchShape included a member to get the url (<code>getUrl()</code>). This was used to both
provide a lookup key for the results of a request as well as generate the url to send
to <code>fetch()</code> using an object of params like <code>{ id: 5 }</code>. This made it easy to override
just the url portion of a shape for custom endpoints.</p><p>However, for protocols that don&#x27;t base their requests on url like GraphQL this was a bit
awkward. Additionally, manipulating the request/response based on fetch params <a href="https://github.com/coinbase/rest-hooks/issues/87" target="_blank" rel="noopener noreferrer">became
cumbersome when the fetch method had to parse the url</a>
instead of just access those params itself.</p><ul><li><p><a href="/docs/2.2/guides/endpoints#rpc">getUrl() -&gt; getFetchKey() + fetch()</a></p><ul><li>If you were setting getUrl() before, you&#x27;ll need to also override the <a href="/docs/2.2/api/FetchShape#fetchparams-param-body-payload-promise-any">FetchShape.fetch()</a>. getFetchKey() is only used as a lookup
key in the results table cache. <a href="/docs/2.2/api/FetchShape#fetchparams-param-body-payload-promise-any">FetchShape.fetch()</a>
is responsible for constructing the actual url.</li></ul></li><li><p>fetch(url: string, body: Body) -&gt; fetch(params: Params, body: Body)</p></li></ul><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="hook-composition">Hook composition<a href="#hook-composition" class="hash-link" aria-label="Direct link to Hook composition" title="Direct link to Hook composition">​</a></h4><p>One of the biggest benefits of hooks is enabling composition of behavior via isolation of
concerns. Even the highest level hooks in Rest Hooks have always been simply compositions of
other lower level hooks. However, without clear use cases of reuse - these lower level hooks
sometimes crossed appropriate abstraction boundaries.</p><p>One of these cases is the <code>useError()</code> hook, which now returns an error if one is found or
undefined otherwise. Previously it had been throwing the error itself, which made it awkward
to use outside the context of Error Boundaries
(e.g., <a href="/docs/2.2/guides/no-suspense#usestatefulresourcetsx">useStatefulResource</a>).</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="featherweight-bundles">Featherweight bundles<a href="#featherweight-bundles" class="hash-link" aria-label="Direct link to Featherweight bundles" title="Direct link to Featherweight bundles">​</a></h3><p>Keeping Rest Hooks bundle footprint small has been a conscious effort - enabled mostly
by clean modular design. Sometimes this has to be balanced with maximum compatibility.
Keeping this in mind, Rest Hooks will now leave polyfill loading up to the user. Instead
of importing the polyfills it needs from core-js directly, it will assume they are loaded.
<strong>This means when using Rest Hooks 2.0 with the intent of IE compatibility - you will need
to ensure you are loading the appropriate polyfills yourself.</strong></p><p>Leaving polyfills in the control of the application builder seems like the best practice
for libraries. This also means an application can potentially only load polyfills if they
are needed.</p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="migration-guide">Migration guide<a href="#migration-guide" class="hash-link" aria-label="Direct link to Migration guide" title="Direct link to Migration guide">​</a></h2><p>To summarize:</p><ul><li>RestProvider -&gt; CacheProvider</li><li>RequestShape -&gt; FetchShape</li><li>singleRequest() -&gt; detailShape()</li><li>listRequest() -&gt; listShape()</li><li>createRequest() -&gt; createShape()</li><li>updateRequest() -&gt; updateShape()</li><li>partialUpdateRequest() -&gt; partialUpdateShape()</li><li>deleteRequest() -&gt; deleteShape()</li><li><code>&lt;CacheProvider manager={myNetworkManager} subscriptionManager={mySubcriptionManager}&gt;</code> -&gt; <code>&lt;CacheProvider managers={[myNetworkManager, mySubscriptionManager]}&gt;</code></li><li><a href="/docs/2.2/guides/endpoints#rpc">FetchShape.getUrl() -&gt; FetchShape.getFetchKey() + FetchShape.fetch()</a></li><li>FetchShape.fetch(url: string, body: Body) -&gt; FetchShape.fetch(params: Params, body: Body)</li><li>SchemaBase -&gt; SchemaDetail; SchemaArray -&gt; SchemaList</li><li>useError() returns error instead of throwing</li><li>Polyfills are not included automatically</li></ul><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="whats-next">What&#x27;s next<a href="#whats-next" class="hash-link" aria-label="Direct link to What&#x27;s next" title="Direct link to What&#x27;s next">​</a></h2><p>While an important milestone for Rest Hooks, work is far from over. We have some exciting
features planned to be released soon. Here&#x27;s a sneak peak of the &#x27;soon&#x27; lineup:</p><ul><li>Garbage collection</li><li><a href="https://github.com/coinbase/rest-hooks/issues/96" target="_blank" rel="noopener noreferrer">Optimistic query update on create</a></li><li>Automatic query batching</li><li>Caching in Service Workers (PWA)</li><li>Server Side Rendering guide</li><li>Concurrent mode test suite</li></ul><p>We&#x27;re also experimenting with a CLI to generate <a href="/docs/2.2/api/resource">Resource</a> stubs from OpenAPI
schemas.</p><p>If any of these ideas excite you, or you have ideas of your own for Rest Hooks, we encourage you
to share your feedback by <a href="https://github.com/coinbase/rest-hooks/issues/new/choose" target="_blank" rel="noopener noreferrer">creating an issue</a>
or <a href="https://github.com/coinbase/rest-hooks/compare" target="_blank" rel="noopener noreferrer">contributing code</a>.</p></div><footer class="row docusaurus-mt-lg blogPostFooterDetailsFull_mRVl"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/releases">releases</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/rest-hooks">rest-hooks</a></li></ul></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Blog post page navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/blog/2019/08/07/Rest-Hooks-2.1-Released"><div class="pagination-nav__sublabel">Newer Post</div><div class="pagination-nav__label">Rest Hooks 2.1 Released</div></a></nav></main><div class="col col--2"><div class="tableOfContents_bqdL thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#breaking-changes" class="table-of-contents__link toc-highlight">Breaking changes</a><ul><li><a href="#renaming" class="table-of-contents__link toc-highlight">Renaming</a></li><li><a href="#extensibility" class="table-of-contents__link toc-highlight">Extensibility</a></li><li><a href="#featherweight-bundles" class="table-of-contents__link toc-highlight">Featherweight bundles</a></li></ul></li><li><a href="#migration-guide" class="table-of-contents__link toc-highlight">Migration guide</a></li><li><a href="#whats-next" class="table-of-contents__link toc-highlight">What&#39;s next</a></li></ul></div></div></div></div></div><footer class="footer"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs">Introduction</a></li><li class="footer__item"><a class="footer__link-item" href="/rest">REST</a></li><li class="footer__item"><a class="footer__link-item" href="/graphql">GraphQL</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/guides/img-media">Images / Binary</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/api/Manager#middleware-data-stream">Websockets+SSE</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/api/useSuspense">Hooks</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://discord.gg/35nb8Mz" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="http://stackoverflow.com/questions/tagged/rest-hooks" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/RestHooks" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/coinbase/rest-hooks/issues/new/choose" target="_blank" rel="noopener noreferrer" class="footer__link-item">Bug Report<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/coinbase/rest-hooks" target="_blank" rel="noopener noreferrer" class="footer__link-item">Github</a></li><li class="footer__item"><a href="https://stackblitz.com/github/coinbase/rest-hooks/tree/master/examples/github-app?file=src%2Fpages%2FIssueList.tsx" target="_blank" rel="noopener noreferrer" class="footer__link-item">Demo (Github)</a></li><li class="footer__item"><a href="https://stackblitz.com/github/coinbase/rest-hooks/tree/master/examples/todo-app?file=src%2Fpages%2FHome%2FTodoList.tsx" target="_blank" rel="noopener noreferrer" class="footer__link-item">Demo (Todo)</a></li><li class="footer__item"><a href="https://stackblitz.com/github/coinbase/rest-hooks/tree/master/examples/nextjs?file=pages%2FAssetPrice.tsx" target="_blank" rel="noopener noreferrer" class="footer__link-item">Demo (NextJS)</a></li></ul></div></div><div class="footer__bottom text--center"><div class="margin-bottom--sm"><img src="/img/rest_hooks_logo.svg" alt="Rest Hooks Logo" class="themedImage_ToTc themedImage--light_HNdA footer__logo" width="94" height="90"><img src="/img/rest_hooks_logo.svg" alt="Rest Hooks Logo" class="themedImage_ToTc themedImage--dark_i4oU footer__logo" width="94" height="90"></div><div class="footer__copyright">Copyright © 2023 Nathaniel Tucker. Some icons by <a href="https://www.freepik.com" title="Freepik">Freepik</a></div></div></div></footer></div>
<script src="/assets/js/runtime~main.e6b1b423.js"></script>
<script src="/assets/js/main.fc4a5124.js"></script>
</body>
</html>